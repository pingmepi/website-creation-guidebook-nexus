module.exports=[20444,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(14574),e=a.i(66718),f=a.i(70430),g=a.i(99570),h=a=>a instanceof Date,i=a=>null==a,j=a=>!i(a)&&!Array.isArray(a)&&"object"==typeof a&&!h(a);function k(a){let b,c=Array.isArray(a);if(a instanceof Date)b=new Date(a);else if(a instanceof Set)b=new Set(a);else{let d;if(!(c||j(a)))return a;if(b=c?[]:{},c||j(d=a.constructor&&a.constructor.prototype)&&d.hasOwnProperty("isPrototypeOf"))for(let c in a)a.hasOwnProperty(c)&&(b[c]=k(a[c]));else b=a}return b}var l=a=>Array.isArray(a)?a.filter(Boolean):[],m=a=>void 0===a,n=(a,b,c)=>{if(!b||!j(a))return c;let d=l(b.split(/[,[\].]+?/)).reduce((a,b)=>i(a)?a:a[b],a);return m(d)||d===a?m(a[b])?c:a[b]:d},o=a=>l(a.replace(/["|']|\]/g,"").split(/\.|\[/)),p=(a,b,c)=>{let d=-1,e=/^\w*$/.test(b)?[b]:o(b),f=e.length,g=f-1;for(;++d<f;){let b=e[d],f=c;if(d!==g){let c=a[b];f=j(c)||Array.isArray(c)?c:isNaN(+e[d+1])?{}:[]}if("__proto__"===b)return;a[b]=f,a=a[b]}return a};let q="onChange",r="onSubmit",s="maxLength",t="minLength",u="pattern",v="required";c.default.createContext(null);var w=a=>j(a)&&!Object.keys(a).length,x=a=>Array.isArray(a)?a:[a],y=(a,b,c,d,e)=>b?{...c[a],types:{...c[a]&&c[a].types?c[a].types:{},[d]:e||!0}}:{},z=a=>({isOnSubmit:!a||a===r,isOnBlur:"onBlur"===a,isOnChange:a===q,isOnAll:"all"===a,isOnTouch:"onTouched"===a}),A=(a,b,c)=>!c&&(b.watchAll||b.watch.has(a)||[...b.watch].some(b=>a.startsWith(b)&&/^\.\w+/.test(a.slice(b.length))));let B=(a,b,c,d)=>{for(let e of c||Object.keys(a)){let c=n(a,e);if(c){let{_f:a,...f}=c;if(a){if(a.refs&&a.refs[0]&&b(a.refs[0],e)&&!d)return!0;else if(a.ref&&b(a.ref,a.name)&&!d)return!0;else if(B(f,b))break}else if(j(f)&&B(f,b))break}}};var C=(a,b,c)=>{let d=x(n(a,c));return p(d,"root",b[c]),p(a,c,d),a},D=a=>"function"==typeof a,E=a=>"string"==typeof a;let F={value:!1,isValid:!1},G={value:!0,isValid:!0};var H=a=>{if(Array.isArray(a)){if(a.length>1){let b=a.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:b,isValid:!!b.length}}return a[0].checked&&!a[0].disabled?a[0].attributes&&!m(a[0].attributes.value)?m(a[0].value)||""===a[0].value?G:{value:a[0].value,isValid:!0}:G:F}return F};let I={isValid:!1,value:null};var J=a=>Array.isArray(a)?a.reduce((a,b)=>b&&b.checked&&!b.disabled?{isValid:!0,value:b.value}:a,I):I;function K(a,b,c="validate"){if(E(a)||Array.isArray(a)&&a.every(E)||"boolean"==typeof a&&!a)return{type:c,message:E(a)?a:"",ref:b}}var L=a=>!j(a)||a instanceof RegExp?{value:a,message:""}:a,M=async(a,b,c,d,e)=>{let{ref:f,refs:g,required:h,maxLength:k,minLength:l,min:o,max:p,pattern:q,validate:r,name:x,valueAsNumber:z,mount:A,disabled:B}=a._f,C=n(b,x);if(!A||B)return{};let F=g?g[0]:f,G=a=>{d&&F.reportValidity&&(F.setCustomValidity("boolean"==typeof a?"":a||""),F.reportValidity())},I={},M="radio"===f.type,N="checkbox"===f.type,O=(z||"file"===f.type)&&m(f.value)&&m(C)||""===C||Array.isArray(C)&&!C.length,P=y.bind(null,x,c,I),Q=(a,b,c,d=s,e=t)=>{let g=a?b:c;I[x]={type:a?d:e,message:g,ref:f,...P(a?d:e,g)}};if(e?!Array.isArray(C)||!C.length:h&&(!(M||N)&&(O||i(C))||"boolean"==typeof C&&!C||N&&!H(g).isValid||M&&!J(g).isValid)){let{value:a,message:b}=E(h)?{value:!!h,message:h}:L(h);if(a&&(I[x]={type:v,message:b,ref:F,...P(v,b)},!c))return G(b),I}if(!O&&(!i(o)||!i(p))){let a,b,d=L(p),e=L(o);if(i(C)||isNaN(C)){let c=f.valueAsDate||new Date(C),g=a=>new Date(new Date().toDateString()+" "+a),h="time"==f.type,i="week"==f.type;"string"==typeof d.value&&C&&(a=h?g(C)>g(d.value):i?C>d.value:c>new Date(d.value)),"string"==typeof e.value&&C&&(b=h?g(C)<g(e.value):i?C<e.value:c<new Date(e.value))}else{let c=f.valueAsNumber||(C?+C:C);i(d.value)||(a=c>d.value),i(e.value)||(b=c<e.value)}if((a||b)&&(Q(!!a,d.message,e.message,"max","min"),!c))return G(I[x].message),I}if((k||l)&&!O&&("string"==typeof C||e&&Array.isArray(C))){let a=L(k),b=L(l),d=!i(a.value)&&C.length>+a.value,e=!i(b.value)&&C.length<+b.value;if((d||e)&&(Q(d,a.message,b.message),!c))return G(I[x].message),I}if(q&&!O&&"string"==typeof C){let{value:a,message:b}=L(q);if(a instanceof RegExp&&!C.match(a)&&(I[x]={type:u,message:b,ref:f,...P(u,b)},!c))return G(b),I}if(r){if(D(r)){let a=K(await r(C,b),F);if(a&&(I[x]={...a,...P("validate",a.message)},!c))return G(a.message),I}else if(j(r)){let a={};for(let d in r){if(!w(a)&&!c)break;let e=K(await r[d](C,b),F,d);e&&(a={...e,...P(d,e.message)},G(e.message),c&&(I[x]=a))}if(!w(a)&&(I[x]={ref:F,...a},!c))return I}}return G(!0),I};function N(a,b){let c=Array.isArray(b)?b:/^\w*$/.test(b)?[b]:o(b),d=1===c.length?a:function(a,b){let c=b.slice(0,-1).length,d=0;for(;d<c;)a=m(a)?d++:a[b[d++]];return a}(a,c),e=c.length-1,f=c[e];return d&&delete d[f],0!==e&&(j(d)&&w(d)||Array.isArray(d)&&function(a){for(let b in a)if(a.hasOwnProperty(b)&&!m(a[b]))return!1;return!0}(d))&&N(a,c.slice(0,-1)),a}var O=()=>{let a=[];return{get observers(){return a},next:b=>{for(let c of a)c.next&&c.next(b)},subscribe:b=>(a.push(b),{unsubscribe:()=>{a=a.filter(a=>a!==b)}}),unsubscribe:()=>{a=[]}}},P=a=>i(a)||"object"!=typeof a;function Q(a,b){if(P(a)||P(b))return a===b;if(h(a)&&h(b))return a.getTime()===b.getTime();let c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(let e of c){let c=a[e];if(!d.includes(e))return!1;if("ref"!==e){let a=b[e];if(h(c)&&h(a)||j(c)&&j(a)||Array.isArray(c)&&Array.isArray(a)?!Q(c,a):c!==a)return!1}}return!0}var R=a=>!1,S=a=>{for(let b in a)if(D(a[b]))return!0;return!1};function T(a,b={}){let c=Array.isArray(a);if(j(a)||c)for(let c in a)Array.isArray(a[c])||j(a[c])&&!S(a[c])?(b[c]=Array.isArray(a[c])?[]:{},T(a[c],b[c])):i(a[c])||(b[c]=!0);return b}var U=(a,b)=>(function a(b,c,d){let e=Array.isArray(b);if(j(b)||e)for(let e in b)Array.isArray(b[e])||j(b[e])&&!S(b[e])?m(c)||P(d[e])?d[e]=Array.isArray(b[e])?T(b[e],[]):{...T(b[e])}:a(b[e],i(c)?{}:c[e],d[e]):d[e]=!Q(b[e],c[e]);return d})(a,b,T(b)),V=(a,{valueAsNumber:b,valueAsDate:c,setValueAs:d})=>m(a)?a:b?""===a?NaN:a?+a:a:c&&"string"==typeof a?new Date(a):d?d(a):a;function W(a){let b=a.ref;if(a.refs?!a.refs.every(a=>a.disabled):!b.disabled)return"file"===b.type?b.files:"radio"===b.type?J(a.refs).value:"select-multiple"===b.type?[...b.selectedOptions].map(({value:a})=>a):"checkbox"===b.type?H(a.refs).value:V(m(b.value)?a.ref.value:b.value,a)}var X=a=>m(a)?a:a instanceof RegExp?a.source:j(a)?a.value instanceof RegExp?a.value.source:a.value:a;let Y="AsyncFunction";var Z=a=>(!a||!a.validate)&&!!(D(a.validate)&&a.validate.constructor.name===Y||j(a.validate)&&Object.values(a.validate).find(a=>a.constructor.name===Y));function $(a,b,c){let d=n(a,c);if(d||/^\w*$/.test(c))return{error:d,name:c};let e=c.split(".");for(;e.length;){let d=e.join("."),f=n(b,d),g=n(a,d);if(f&&!Array.isArray(f)&&c!==d)break;if(g&&g.type)return{name:d,error:g};e.pop()}return{name:c}}let _={mode:r,reValidateMode:q,shouldFocusError:!0};var aa=a.i(69769),ab=a.i(77156),ac=a.i(70106);let ad=(0,ac.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ae=(0,ac.default)("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);var af=a.i(35475);a.s(["default",0,({open:a,onClose:o,onSuccess:q})=>{let[r,s]=(0,c.useState)("login"),[t,u]=(0,c.useState)(!1),[v,y]=(0,c.useState)(!1),{login:E,signup:F,loginWithGoogle:G}=(0,af.useUser)(),{register:H,handleSubmit:I,formState:{errors:J},reset:K}=function(a={}){var b;let d,e=c.default.useRef(),f=c.default.useRef(),[g,o]=c.default.useState({isDirty:!1,isValidating:!1,isLoading:D(a.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1,defaultValues:D(a.defaultValues)?void 0:a.defaultValues});e.current||(e.current={...function(a={}){let b,c={..._,...a},d={submitCount:0,isDirty:!1,isLoading:D(c.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:c.errors||{},disabled:c.disabled||!1},e={},f=(j(c.defaultValues)||j(c.values))&&k(c.defaultValues||c.values)||{},g=c.shouldUnregister?{}:k(f),o={action:!1,mount:!1,watch:!1},q={mount:new Set,unMount:new Set,array:new Set,watch:new Set},r=0,s={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},t={values:O(),array:O(),state:O()},u=z(c.mode),v=z(c.reValidateMode),y="all"===c.criteriaMode,E=async b=>{if(!a.disabled&&(s.isValid||b)){let a=c.resolver?w((await I()).errors):await K(e,!0);a!==d.isValid&&t.state.next({isValid:a})}},F=(b,c)=>{!a.disabled&&(s.isValidating||s.validatingFields)&&((b||Array.from(q.mount)).forEach(a=>{a&&(c?p(d.validatingFields,a,c):N(d.validatingFields,a))}),t.state.next({validatingFields:d.validatingFields,isValidating:!w(d.validatingFields)}))},G=(a,b,c,d)=>{let h=n(e,a);if(h){let e=n(g,a,m(c)?n(f,a):c);m(e)||d&&d.defaultChecked||b?p(g,a,b?e:W(h._f)):S(a,e),o.mount&&E()}},H=(b,c,g,h,i)=>{let j=!1,k=!1,l={name:b};if(!a.disabled){let a=!!(n(e,b)&&n(e,b)._f&&n(e,b)._f.disabled);if(!g||h){s.isDirty&&(k=d.isDirty,d.isDirty=l.isDirty=L(),j=k!==l.isDirty);let e=a||Q(n(f,b),c);k=!!(!a&&n(d.dirtyFields,b)),e||a?N(d.dirtyFields,b):p(d.dirtyFields,b,!0),l.dirtyFields=d.dirtyFields,j=j||s.dirtyFields&&!e!==k}if(g){let a=n(d.touchedFields,b);a||(p(d.touchedFields,b,g),l.touchedFields=d.touchedFields,j=j||s.touchedFields&&a!==g)}j&&i&&t.state.next(l)}return j?l:{}},I=async a=>{F(a,!0);let b=await c.resolver(g,c.context,((a,b,c,d)=>{let e={};for(let c of a){let a=n(b,c);a&&p(e,c,a._f)}return{criteriaMode:c,names:[...a],fields:e,shouldUseNativeValidation:d}})(a||q.mount,e,c.criteriaMode,c.shouldUseNativeValidation));return F(a),b},J=async a=>{let{errors:b}=await I(a);if(a)for(let c of a){let a=n(b,c);a?p(d.errors,c,a):N(d.errors,c)}else d.errors=b;return b},K=async(a,b,e={valid:!0})=>{for(let f in a){let h=a[f];if(h){let{_f:a,...i}=h;if(a){let i=q.array.has(a.name),j=h._f&&Z(h._f);j&&s.validatingFields&&F([f],!0);let k=await M(h,g,y,c.shouldUseNativeValidation&&!b,i);if(j&&s.validatingFields&&F([f]),k[a.name]&&(e.valid=!1,b))break;b||(n(k,a.name)?i?C(d.errors,k,a.name):p(d.errors,a.name,k[a.name]):N(d.errors,a.name))}w(i)||await K(i,b,e)}}return e.valid},L=(b,c)=>!a.disabled&&(b&&c&&p(g,b,c),!Q(ad(),f)),P=(a,b,c)=>{let d,e,h,i,j;return d=a,e=q,h={...o.mount?g:m(b)?f:"string"==typeof a?{[a]:b}:b},i=c,j=b,"string"==typeof d?(i&&e.watch.add(d),n(h,d,j)):Array.isArray(d)?d.map(a=>(i&&e.watch.add(a),n(h,a))):(i&&(e.watchAll=!0),h)},S=(a,b,c={})=>{let d=n(e,a),f=b;if(d){let c=d._f;c&&(c.disabled||p(g,a,V(b,c)),c.ref,f=b,"select-multiple"===c.ref.type?[...c.ref.options].forEach(a=>a.selected=f.includes(a.value)):c.refs?"checkbox"===c.ref.type?c.refs.length>1?c.refs.forEach(a=>(!a.defaultChecked||!a.disabled)&&(a.checked=Array.isArray(f)?!!f.find(b=>b===a.value):f===a.value)):c.refs[0]&&(c.refs[0].checked=!!f):c.refs.forEach(a=>a.checked=a.value===f):"file"===c.ref.type?c.ref.value="":(c.ref.value=f,c.ref.type||t.values.next({name:a,values:{...g}})))}(c.shouldDirty||c.shouldTouch)&&H(a,f,c.shouldTouch,c.shouldDirty,!0),c.shouldValidate&&ac(a)},T=(a,b,c)=>{for(let d in b){let f=b[d],g=`${a}.${d}`,i=n(e,g);(q.array.has(a)||j(f)||i&&!i._f)&&!h(f)?T(g,f,c):S(g,f,c)}},Y=(a,b,c={})=>{let h=n(e,a),j=q.array.has(a),l=k(b);p(g,a,l),j?(t.array.next({name:a,values:{...g}}),(s.isDirty||s.dirtyFields)&&c.shouldDirty&&t.state.next({name:a,dirtyFields:U(f,g),isDirty:L(a,l)})):!h||h._f||i(l)?S(a,l,c):T(a,l,c),A(a,q)&&t.state.next({...d}),t.values.next({name:o.mount?a:void 0,values:{...g}})},aa=async f=>{o.mount=!0;let i=f.target,k=i.name,l=!0,m=n(e,k),x=a=>{l=Number.isNaN(a)||h(a)&&isNaN(a.getTime())||Q(a,n(g,k,a))};if(m){var z,B,C,D,G;let h,o,P,R=i.type?W(m._f):j(f)&&f.target?"checkbox"===f.target.type?f.target.checked:f.target.value:f,S="blur"===f.type||"focusout"===f.type,T=!((P=m._f).mount&&(P.required||P.min||P.max||P.maxLength||P.minLength||P.pattern||P.validate))&&!c.resolver&&!n(d.errors,k)&&!m._f.deps||(z=S,B=n(d.touchedFields,k),C=d.isSubmitted,D=v,!(G=u).isOnAll&&(!C&&G.isOnTouch?!(B||z):(C?D.isOnBlur:G.isOnBlur)?!z:(C?!D.isOnChange:!G.isOnChange)||z)),U=A(k,q,S);p(g,k,R),S?(m._f.onBlur&&m._f.onBlur(f),b&&b(0)):m._f.onChange&&m._f.onChange(f);let V=H(k,R,S,!1),X=!w(V)||U;if(S||t.values.next({name:k,type:f.type,values:{...g}}),T)return s.isValid&&("onBlur"===a.mode?S&&E():E()),X&&t.state.next({name:k,...U?{}:V});if(!S&&U&&t.state.next({...d}),c.resolver){let{errors:a}=await I([k]);if(x(R),l){let b=$(d.errors,e,k),c=$(a,e,b.name||k);h=c.error,k=c.name,o=w(a)}}else F([k],!0),h=(await M(m,g,y,c.shouldUseNativeValidation))[k],F([k]),x(R),l&&(h?o=!1:s.isValid&&(o=await K(e,!0)));if(l){m._f.deps&&ac(m._f.deps);var J=k,L=o,O=h;let c=n(d.errors,J),e=s.isValid&&"boolean"==typeof L&&d.isValid!==L;if(a.delayError&&O){let c;c=()=>{p(d.errors,J,O),t.state.next({errors:d.errors})},(b=a=>{clearTimeout(r),r=setTimeout(c,a)})(a.delayError)}else clearTimeout(r),b=null,O?p(d.errors,J,O):N(d.errors,J);if((O?!Q(c,O):c)||!w(V)||e){let a={...V,...e&&"boolean"==typeof L?{isValid:L}:{},errors:d.errors,name:J};d={...d,...a},t.state.next(a)}}}},ab=(a,b)=>{if(n(d.errors,b)&&a.focus)return a.focus(),1},ac=async(a,b={})=>{let f,g,h=x(a);if(c.resolver){let b=await J(m(a)?a:h);f=w(b),g=a?!h.some(a=>n(b,a)):f}else a?((g=(await Promise.all(h.map(async a=>{let b=n(e,a);return await K(b&&b._f?{[a]:b}:b)}))).every(Boolean))||d.isValid)&&E():g=f=await K(e);return t.state.next({..."string"!=typeof a||s.isValid&&f!==d.isValid?{}:{name:a},...c.resolver||!a?{isValid:f}:{},errors:d.errors}),b.shouldFocus&&!g&&B(e,ab,a?h:q.mount),g},ad=a=>{let b={...o.mount?g:f};return m(a)?b:"string"==typeof a?n(b,a):a.map(a=>n(b,a))},ae=(a,b)=>({invalid:!!n((b||d).errors,a),isDirty:!!n((b||d).dirtyFields,a),error:n((b||d).errors,a),isValidating:!!n(d.validatingFields,a),isTouched:!!n((b||d).touchedFields,a)}),af=(a,b,c)=>{let f=(n(e,a,{_f:{}})._f||{}).ref,{ref:g,message:h,type:i,...j}=n(d.errors,a)||{};p(d.errors,a,{...j,...b,ref:f}),t.state.next({name:a,errors:d.errors,isValid:!1}),c&&c.shouldFocus&&f&&f.focus&&f.focus()},ag=(a,b={})=>{for(let h of a?x(a):q.mount)q.mount.delete(h),q.array.delete(h),b.keepValue||(N(e,h),N(g,h)),b.keepError||N(d.errors,h),b.keepDirty||N(d.dirtyFields,h),b.keepTouched||N(d.touchedFields,h),b.keepIsValidating||N(d.validatingFields,h),c.shouldUnregister||b.keepDefaultValue||N(f,h);t.values.next({values:{...g}}),t.state.next({...d,...!b.keepDirty?{}:{isDirty:L()}}),b.keepIsValid||E()},ah=({disabled:a,name:b,field:c,fields:d,value:e})=>{if("boolean"==typeof a&&o.mount||a){let f=a?void 0:m(e)?W(c?c._f:n(d,b)._f):e;p(g,b,f),H(b,f,!1,!1,!0)}},ai=(b,d={})=>{let g=n(e,b),h="boolean"==typeof d.disabled||"boolean"==typeof a.disabled;return(p(e,b,{...g||{},_f:{...g&&g._f?g._f:{ref:{name:b}},name:b,mount:!0,...d}}),q.mount.add(b),g)?ah({field:g,disabled:"boolean"==typeof d.disabled?d.disabled:a.disabled,name:b,value:d.value}):G(b,!0,d.value),{...h?{disabled:d.disabled||a.disabled}:{},...c.progressive?{required:!!d.required,min:X(d.min),max:X(d.max),minLength:X(d.minLength),maxLength:X(d.maxLength),pattern:X(d.pattern)}:{},name:b,onChange:aa,onBlur:aa,ref:a=>{if(a){let c;ai(b,d),g=n(e,b);let h=m(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,i="radio"===(c=h).type||"checkbox"===c.type,j=g._f.refs||[];(i?j.find(a=>a===h):h===g._f.ref)||(p(e,b,{_f:{...g._f,...i?{refs:[...j.filter(R),h,...Array.isArray(n(f,b))?[{}]:[]],ref:{type:h.type,name:b}}:{ref:h}}}),G(b,!1,void 0,h))}else{var h;(g=n(e,b,{}))._f&&(g._f.mount=!1),(c.shouldUnregister||d.shouldUnregister)&&(h=q.array,!h.has(b.substring(0,b.search(/\.\d+(\.|$)/))||b)||!o.action)&&q.unMount.add(b)}}}},aj=()=>c.shouldFocusError&&B(e,ab,q.mount),ak=(a,b)=>async f=>{let h;f&&(f.preventDefault&&f.preventDefault(),f.persist&&f.persist());let i=k(g);if(t.state.next({isSubmitting:!0}),c.resolver){let{errors:a,values:b}=await I();d.errors=a,i=b}else await K(e);if(N(d.errors,"root"),w(d.errors)){t.state.next({errors:{}});try{await a(i,f)}catch(a){h=a}}else b&&await b({...d.errors},f),aj(),setTimeout(aj);if(t.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:w(d.errors)&&!h,submitCount:d.submitCount+1,errors:d.errors}),h)throw h},al=(b,c={})=>{let h=b?k(b):f,i=k(h),j=w(b),l=j?f:i;if(c.keepDefaultValues||(f=h),!c.keepValues){if(c.keepDirtyValues)for(let a of Array.from(new Set([...q.mount,...Object.keys(U(f,g))])))n(d.dirtyFields,a)?p(l,a,n(g,a)):Y(a,n(l,a));else e={};g=a.shouldUnregister?c.keepDefaultValues?k(f):{}:k(l),t.array.next({values:{...l}}),t.values.next({values:{...l}})}q={mount:c.keepDirtyValues?q.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!s.isValid||!!c.keepIsValid||!!c.keepDirtyValues,o.watch=!!a.shouldUnregister,t.state.next({submitCount:c.keepSubmitCount?d.submitCount:0,isDirty:!j&&(c.keepDirty?d.isDirty:!!(c.keepDefaultValues&&!Q(b,f))),isSubmitted:!!c.keepIsSubmitted&&d.isSubmitted,dirtyFields:j?{}:c.keepDirtyValues?c.keepDefaultValues&&g?U(f,g):d.dirtyFields:c.keepDefaultValues&&b?U(f,b):c.keepDirty?d.dirtyFields:{},touchedFields:c.keepTouched?d.touchedFields:{},errors:c.keepErrors?d.errors:{},isSubmitSuccessful:!!c.keepIsSubmitSuccessful&&d.isSubmitSuccessful,isSubmitting:!1})},am=(a,b)=>al(D(a)?a(g):a,b);return{control:{register:ai,unregister:ag,getFieldState:ae,handleSubmit:ak,setError:af,_executeSchema:I,_getWatch:P,_getDirty:L,_updateValid:E,_removeUnmounted:()=>{for(let a of q.unMount){let b=n(e,a);b&&(b._f.refs?b._f.refs.every(a=>!R(a)):!R(b._f.ref))&&ag(a)}q.unMount=new Set},_updateFieldArray:(b,c=[],h,i,j=!0,k=!0)=>{if(i&&h&&!a.disabled){if(o.action=!0,k&&Array.isArray(n(e,b))){let a=h(n(e,b),i.argA,i.argB);j&&p(e,b,a)}if(k&&Array.isArray(n(d.errors,b))){let a,c=h(n(d.errors,b),i.argA,i.argB);j&&p(d.errors,b,c),l(n(a=d.errors,b)).length||N(a,b)}if(s.touchedFields&&k&&Array.isArray(n(d.touchedFields,b))){let a=h(n(d.touchedFields,b),i.argA,i.argB);j&&p(d.touchedFields,b,a)}s.dirtyFields&&(d.dirtyFields=U(f,g)),t.state.next({name:b,isDirty:L(b,c),dirtyFields:d.dirtyFields,errors:d.errors,isValid:d.isValid})}else p(g,b,c)},_updateDisabledField:ah,_getFieldArray:b=>l(n(o.mount?g:f,b,a.shouldUnregister?n(f,b,[]):[])),_reset:al,_resetDefaultValues:()=>D(c.defaultValues)&&c.defaultValues().then(a=>{am(a,c.resetOptions),t.state.next({isLoading:!1})}),_updateFormState:a=>{d={...d,...a}},_disableForm:a=>{"boolean"==typeof a&&(t.state.next({disabled:a}),B(e,(b,c)=>{let d=n(e,c);d&&(b.disabled=d._f.disabled||a,Array.isArray(d._f.refs)&&d._f.refs.forEach(b=>{b.disabled=d._f.disabled||a}))},0,!1))},_subjects:t,_proxyFormState:s,_setErrors:a=>{d.errors=a,t.state.next({errors:d.errors,isValid:!1})},get _fields(){return e},get _formValues(){return g},get _state(){return o},set _state(value){o=value},get _defaultValues(){return f},get _names(){return q},set _names(value){q=value},get _formState(){return d},set _formState(value){d=value},get _options(){return c},set _options(value){c={...c,...value}}},trigger:ac,register:ai,handleSubmit:ak,watch:(a,b)=>D(a)?t.values.subscribe({next:c=>a(P(void 0,b),c)}):P(a,b,!0),setValue:Y,getValues:ad,reset:am,resetField:(a,b={})=>{n(e,a)&&(m(b.defaultValue)?Y(a,k(n(f,a))):(Y(a,b.defaultValue),p(f,a,k(b.defaultValue))),b.keepTouched||N(d.touchedFields,a),b.keepDirty||(N(d.dirtyFields,a),d.isDirty=b.defaultValue?L(a,k(n(f,a))):L()),!b.keepError&&(N(d.errors,a),s.isValid&&E()),t.state.next({...d}))},clearErrors:a=>{a&&x(a).forEach(a=>N(d.errors,a)),t.state.next({errors:a?d.errors:{}})},unregister:ag,setError:af,setFocus:(a,b={})=>{let c=n(e,a),d=c&&c._f;if(d){let a=d.refs?d.refs[0]:d.ref;a.focus&&(a.focus(),b.shouldSelect&&a.select())}},getFieldState:ae}}(a),formState:g});let q=e.current.control;return q._options=a,b={subject:q._subjects.state,next:a=>{((a,b,c,d)=>{c(a);let{name:e,...f}=a;return w(f)||Object.keys(f).length>=Object.keys(b).length||Object.keys(f).find(a=>b[a]===(!d||"all"))})(a,q._proxyFormState,q._updateFormState,!0)&&o({...q._formState})}},(d=c.default.useRef(b)).current=b,c.default.useEffect(()=>{let a=!b.disabled&&d.current.subject&&d.current.subject.subscribe({next:d.current.next});return()=>{a&&a.unsubscribe()}},[b.disabled]),c.default.useEffect(()=>q._disableForm(a.disabled),[q,a.disabled]),c.default.useEffect(()=>{if(q._proxyFormState.isDirty){let a=q._getDirty();a!==g.isDirty&&q._subjects.state.next({isDirty:a})}},[q,g.isDirty]),c.default.useEffect(()=>{a.values&&!Q(a.values,f.current)?(q._reset(a.values,q._options.resetOptions),f.current=a.values,o(a=>({...a}))):q._resetDefaultValues()},[a.values,q]),c.default.useEffect(()=>{a.errors&&q._setErrors(a.errors)},[a.errors,q]),c.default.useEffect(()=>{q._state.mount||(q._updateValid(),q._state.mount=!0),q._state.watch&&(q._state.watch=!1,q._subjects.state.next({...q._formState})),q._removeUnmounted()}),c.default.useEffect(()=>{a.shouldUnregister&&q._subjects.values.next({values:q._getWatch()})},[a.shouldUnregister,q]),c.default.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[g]),e.current.formState=((a,b,c,d=!0)=>{let e={defaultValues:b._defaultValues};for(let c in a)Object.defineProperty(e,c,{get:()=>("all"!==b._proxyFormState[c]&&(b._proxyFormState[c]=!d||"all"),a[c])});return e})(g,q),e.current}(),L=async a=>{console.log("Form submitted:",a),console.log("Current mode:",r),y(!0);try{"login"===r?(console.log("Attempting login with:",a.email),await E(a.email,a.password),console.log("Login successful"),aa.toast.success("Logged in successfully"),q()):(console.log("Attempting signup with:",a.email,"and name:",a.name),await F(a.email,a.password,a.name),console.log("Signup successful"),aa.toast.success("Account created successfully"),s("login"))}catch(b){console.error("Authentication error:",b);let a=b instanceof Error?b.message:"Authentication failed";aa.toast.error(a)}finally{y(!1)}};return(0,b.jsx)(d.Dialog,{open:a,onOpenChange:o,children:(0,b.jsxs)(d.DialogContent,{className:"sm:max-w-md",children:[(0,b.jsxs)(d.DialogHeader,{children:[(0,b.jsx)(d.DialogTitle,{children:"login"===r?"Log in to your account":"Create an account"}),(0,b.jsx)(d.DialogDescription,{children:"login"===r?"Enter your email and password to continue with your design":"Fill in the details below to create a new account"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(g.Button,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",disabled:v,onClick:async()=>{y(!0);try{await G()}catch(b){let a=b instanceof Error?b.message:"Google login failed";aa.toast.error(a)}finally{y(!1)}},children:[(0,b.jsx)(ae,{className:"h-4 w-4"}),"Continue with Google"]}),(0,b.jsxs)("div",{className:"relative py-2",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,b.jsx)("span",{className:"w-full border-t"})}),(0,b.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,b.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]})]}),(0,b.jsxs)("form",{onSubmit:I(L),className:"space-y-4",children:["signup"===r&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"name",children:"Name"}),(0,b.jsx)(e.Input,{id:"name",...H("name",{required:"signup"===r}),placeholder:"Enter your name"}),J.name&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:"Name is required"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(e.Input,{id:"email",type:"email",...H("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),placeholder:"Enter your email"}),J.email&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:J.email.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"password",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Input,{id:"password",type:t?"text":"password",...H("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),placeholder:"Enter your password",className:"pr-10"}),(0,b.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>u(!t),children:t?(0,b.jsx)(ad,{size:18}):(0,b.jsx)(ab.Eye,{size:18})})]}),J.password&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:J.password.message})]}),(0,b.jsxs)(d.DialogFooter,{className:"mt-6",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>{console.log("Mode toggled from",r,"to","login"===r?"signup":"login"),s("login"===r?"signup":"login"),K()},disabled:v,children:"login"===r?"Need an account? Sign up":"Already have an account? Log in"}),(0,b.jsx)(g.Button,{type:"submit",disabled:v,children:v?"Processing...":"login"===r?"Log in":"Sign up"})]})]})]})})}],20444)}];

//# sourceMappingURL=src_components_auth_LoginDialog_tsx_689a78e1._.js.map