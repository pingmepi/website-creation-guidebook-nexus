module.exports=[4577,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(40784),f=a.i(77156),g=a.i(38246),h=a.i(68114);let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:d,className:(0,h.cn)("w-full caption-bottom text-sm",a),...c})}));i.displayName="Table";let j=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("thead",{ref:d,className:(0,h.cn)("[&_tr]:border-b",a),...c}));j.displayName="TableHeader";let k=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tbody",{ref:d,className:(0,h.cn)("[&_tr:last-child]:border-0",a),...c}));k.displayName="TableBody",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tfoot",{ref:d,className:(0,h.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let l=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tr",{ref:d,className:(0,h.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));l.displayName="TableRow";let m=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("th",{ref:d,className:(0,h.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));m.displayName="TableHead";let n=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("td",{ref:d,className:(0,h.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));n.displayName="TableCell",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("caption",{ref:d,className:(0,h.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption";let o=(0,a.i(187).cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function p({className:a,variant:c,...d}){return(0,b.jsx)("div",{className:(0,h.cn)(o({variant:c}),a),...d})}var q=a.i(91119),r=a.i(35475),s=a.i(74167),t=a.i(23292);function u(){let{user:a}=(0,r.useUser)(),[h,o]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&y()},[a]);let y=(0,c.useCallback)(async()=>{if(a)try{v(!0);let{data:b,error:c}=await s.supabase.from("orders").select(`
          *,
          order_items (*)
        `).eq("user_id",a.id).order("created_at",{ascending:!1});if(c)throw c;o((b||[]).map(a=>({...a,shipping_address:a.shipping_address||{}})))}catch(a){console.error("Error fetching orders:",a),t.toast.error("Failed to load orders")}finally{v(!1)}},[a]),z=a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=a=>a.charAt(0).toUpperCase()+a.slice(1);return u?(0,b.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{children:"Loading your orders..."})})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Your Orders"}),(0,b.jsx)(d.Button,{variant:"outline",asChild:!0,children:(0,b.jsxs)(g.default,{href:"/shop",children:[(0,b.jsx)(e.ShoppingBag,{className:"mr-2 h-4 w-4"}),"Continue Shopping"]})})]}),0===h.length?(0,b.jsxs)("div",{className:"text-center py-12 border rounded-md bg-gray-50",children:[(0,b.jsx)(e.ShoppingBag,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,b.jsx)("h3",{className:"mt-4 text-lg font-medium",children:"No orders yet"}),(0,b.jsx)("p",{className:"mt-1 text-gray-500",children:"After you place an order, it will appear here"}),(0,b.jsx)(d.Button,{className:"mt-6",asChild:!0,children:(0,b.jsx)(g.default,{href:"/shop",children:"Browse Collection"})})]}):(0,b.jsxs)(q.Card,{children:[(0,b.jsx)(q.CardHeader,{children:(0,b.jsx)(q.CardTitle,{children:"Recent Orders"})}),(0,b.jsx)(q.CardContent,{children:(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{children:(0,b.jsxs)(l,{children:[(0,b.jsx)(m,{children:"Order #"}),(0,b.jsx)(m,{children:"Date"}),(0,b.jsx)(m,{children:"Items"}),(0,b.jsx)(m,{children:"Amount"}),(0,b.jsx)(m,{children:"Status"}),(0,b.jsx)(m,{})]})}),(0,b.jsx)(k,{children:h.map(a=>(0,b.jsxs)(l,{children:[(0,b.jsx)(n,{className:"font-medium",children:a.order_number}),(0,b.jsx)(n,{children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsxs)(n,{children:[a.order_items?.length||0," items"]}),(0,b.jsxs)(n,{children:["₹",a.total_amount.toFixed(2)]}),(0,b.jsx)(n,{children:(0,b.jsx)(p,{className:z(a.status),children:A(a.status)})}),(0,b.jsx)(n,{children:(0,b.jsxs)(d.Button,{variant:"ghost",size:"sm",onClick:()=>x(a),children:[(0,b.jsx)(f.Eye,{className:"h-4 w-4 mr-1"}),"View Details"]})})]},a.id))})]})})]}),w&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)(q.Card,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(q.CardHeader,{children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)(q.CardTitle,{children:["Order Details - ",w.order_number]}),(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>x(null),children:"×"})]})}),(0,b.jsxs)(q.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium",children:"Order Date"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:new Date(w.created_at).toLocaleDateString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium",children:"Status"}),(0,b.jsx)(p,{className:z(w.status),children:A(w.status)})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Shipping Address"}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[(0,b.jsx)("p",{children:String(w.shipping_address.name||"")}),(0,b.jsx)("p",{children:String(w.shipping_address.street_address||"")}),(0,b.jsxs)("p",{children:[String(w.shipping_address.city||""),", ",String(w.shipping_address.state||"")," ",String(w.shipping_address.postal_code||"")]}),(0,b.jsx)("p",{children:String(w.shipping_address.country||"")})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Order Items"}),(0,b.jsx)("div",{className:"space-y-2",children:w.order_items?.map(a=>(0,b.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium",children:["Product #",a.product_id]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",a.quantity]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"font-medium",children:["₹",a.total_price.toFixed(2)]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["₹",a.unit_price.toFixed(2)," each"]})]})]},a.id))})]}),(0,b.jsx)("div",{className:"border-t pt-4",children:(0,b.jsxs)("div",{className:"flex justify-between items-center font-medium text-lg",children:[(0,b.jsx)("span",{children:"Total Amount"}),(0,b.jsxs)("span",{children:["₹",w.total_amount.toFixed(2)]})]})})]})]})})]})}a.s(["default",()=>u],4577)}];

//# sourceMappingURL=app_dashboard_orders_page_tsx_755865e5._.js.map