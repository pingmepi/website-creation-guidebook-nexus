{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/ui/progress.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/DesignStepper.tsx"],"sourcesContent":["\nimport { Progress } from \"@/components/ui/progress\";\n\ntype DesignStep = \"preferences\" | \"design\" | \"options\";\n\ninterface DesignStepperProps {\n  currentStep: DesignStep;\n}\n\nconst DesignStepper = ({ currentStep }: DesignStepperProps) => {\n  // Calculate progress based on current step\n  const getProgress = () => {\n    switch (currentStep) {\n      case \"preferences\":\n        return 33;\n      case \"design\":\n        return 66;\n      case \"options\":\n        return 100;\n      default:\n        return 33;\n    }\n  };\n\n  return (\n    <div className=\"mb-10\">\n      <div className=\"max-w-xs mx-auto mb-8\">\n        <Progress value={getProgress()} className=\"h-2\" />\n      </div>\n      <div className=\"flex justify-between items-center\">\n        <div className=\"flex flex-col items-center\">\n          <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\n            currentStep === \"preferences\" \n              ? \"bg-blue-600 text-white\" \n              : \"bg-white border-2 border-gray-200 text-gray-700\"\n          }`}>\n            1\n          </div>\n          <span className=\"mt-2 text-sm font-medium\">Preferences</span>\n        </div>\n        \n        <div className=\"flex flex-col items-center\">\n          <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\n            currentStep === \"design\" \n              ? \"bg-blue-600 text-white\" \n              : \"bg-white border-2 border-gray-200 text-gray-700\"\n          }`}>\n            2\n          </div>\n          <span className=\"mt-2 text-sm font-medium\">Design</span>\n        </div>\n        \n        <div className=\"flex flex-col items-center\">\n          <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\n            currentStep === \"options\" \n              ? \"bg-blue-600 text-white\" \n              : \"bg-white border-2 border-gray-200 text-gray-700\"\n          }`}>\n            3\n          </div>\n          <span className=\"mt-2 text-sm font-medium\">Options</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DesignStepper;\n"],"names":[],"mappings":";;;;;AACA;;;AAQA,MAAM,gBAAgB,CAAC,EAAE,WAAW,EAAsB;IACxD,2CAA2C;IAC3C,MAAM,cAAc;QAClB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,mJAAQ;oBAAC,OAAO;oBAAe,WAAU;;;;;;;;;;;0BAE5C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAW,CAAC,wDAAwD,EACvE,gBAAgB,gBACZ,2BACA,mDACJ;0CAAE;;;;;;0CAGJ,6LAAC;gCAAK,WAAU;0CAA2B;;;;;;;;;;;;kCAG7C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAW,CAAC,wDAAwD,EACvE,gBAAgB,WACZ,2BACA,mDACJ;0CAAE;;;;;;0CAGJ,6LAAC;gCAAK,WAAU;0CAA2B;;;;;;;;;;;;kCAG7C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAW,CAAC,wDAAwD,EACvE,gBAAgB,YACZ,2BACA,mDACJ;0CAAE;;;;;;0CAGJ,6LAAC;gCAAK,WAAU;0CAA2B;;;;;;;;;;;;;;;;;;;;;;;;AAKrD;KAxDM;uCA0DS"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/ConfirmationDialog.tsx"],"sourcesContent":["\nimport React from \"react\";\nimport { Dialog, DialogContent, DialogTitle, DialogHeader, DialogFooter } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Answer } from \"./QuestionFlow\";\n\ninterface ConfirmationDialogProps {\n  open: boolean;\n  answers: Answer[];\n  onClose: () => void;\n  onConfirm: () => void;\n  onEdit: () => void;\n}\n\nconst ConfirmationDialog = ({\n  open,\n  answers,\n  onClose,\n  onConfirm,\n  onEdit,\n}: ConfirmationDialogProps) => {\n  console.log(\"ConfirmationDialog displaying answers:\", answers);\n  \n  return (\n    <Dialog open={open} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Confirm Your Design Preferences</DialogTitle>\n        </DialogHeader>\n        <div className=\"py-4\">\n          <p className=\"text-gray-600 mb-4\">\n            Please review your design preferences before continuing:\n          </p>\n          <div className=\"space-y-2 border rounded-md p-4\">\n            {answers.length === 0 ? (\n              <p className=\"text-gray-500\">No preferences selected.</p>\n            ) : (\n              answers.map((answer, index) => (\n                <div key={index} className=\"flex flex-col sm:flex-row sm:justify-between gap-1 pb-2 border-b last:border-0 last:pb-0\">\n                  <span className=\"text-gray-600 font-medium\">{answer.question}</span>\n                  <span className=\"text-right\">{answer.answer}</span>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n        <DialogFooter className=\"flex flex-col-reverse sm:flex-row sm:justify-between sm:space-x-2\">\n          <Button variant=\"outline\" onClick={onEdit}>\n            Edit Preferences\n          </Button>\n          <Button onClick={onConfirm}>\n            Confirm & Continue\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default ConfirmationDialog;\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;AAWA,MAAM,qBAAqB,CAAC,EAC1B,IAAI,EACJ,OAAO,EACP,OAAO,EACP,SAAS,EACT,MAAM,EACkB;IACxB,QAAQ,GAAG,CAAC,0CAA0C;IAEtD,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,sJAAa;YAAC,WAAU;;8BACvB,6LAAC,qJAAY;8BACX,cAAA,6LAAC,oJAAW;kCAAC;;;;;;;;;;;8BAEf,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAE,WAAU;sCAAqB;;;;;;sCAGlC,6LAAC;4BAAI,WAAU;sCACZ,QAAQ,MAAM,KAAK,kBAClB,6LAAC;gCAAE,WAAU;0CAAgB;;;;;2EAE7B,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACnB,6LAAC;oCAAgB,WAAU;;sDACzB,6LAAC;4CAAK,WAAU;sDAA6B,OAAO,QAAQ;;;;;;sDAC5D,6LAAC;4CAAK,WAAU;sDAAc,OAAO,MAAM;;;;;;;mCAFnC;;;;;;;;;;;;;;;;8BAQlB,6LAAC,qJAAY;oBAAC,WAAU;;sCACtB,6LAAC,+IAAM;4BAAC,SAAQ;4BAAU,SAAS;sCAAQ;;;;;;sCAG3C,6LAAC,+IAAM;4BAAC,SAAS;sCAAW;;;;;;;;;;;;;;;;;;;;;;;AAOtC;KA3CM;uCA6CS"}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/hooks/design/useDesignNavigation.ts"],"sourcesContent":["\nimport { useState } from \"react\";\nimport { DesignStep, DesignStage, Theme } from \"./types\";\nimport { Answer } from \"@/components/design/QuestionFlow\";\nimport { useUser } from \"@/contexts/UserContext\";\n\nexport function useDesignNavigation() {\n  const { isAuthenticated } = useUser();\n  const [currentStep, setCurrentStep] = useState<DesignStep>(\"preferences\");\n  const [currentStage, setCurrentStage] = useState<DesignStage>(\"theme-selection\");\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [showLoginDialog, setShowLoginDialog] = useState(false);\n\n  // Navigation handlers\n  const handleThemeSelect = (\n    theme: Theme, \n    setSelectedTheme: (theme: Theme | null) => void\n  ) => {\n    console.log(\"Theme selected:\", theme);\n    setSelectedTheme(theme);\n    setCurrentStage(\"question-flow\");\n  };\n\n  const handleQuestionFlowComplete = (\n    questionAnswers: Answer[],\n    setAnswers: (answers: Answer[]) => void\n  ) => {\n    console.log(\"Question flow complete with answers:\", questionAnswers);\n    setAnswers(questionAnswers);\n    setShowConfirmation(true);\n  };\n\n  const handleConfirmDesign = (\n    proceedToDesignStage: () => Promise<void>\n  ) => {\n    console.log(\"Design confirmed\");\n    setShowConfirmation(false);\n\n    // Check if user is logged in\n    if (!isAuthenticated) {\n      console.log(\"User not authenticated, showing login dialog\");\n      setShowLoginDialog(true);\n      return;\n    }\n\n    proceedToDesignStage();\n  };\n\n  const handleLoginSuccess = (\n    proceedToDesignStage: () => Promise<void>\n  ) => {\n    console.log(\"Login success callback in Design page\");\n    setShowLoginDialog(false);\n    proceedToDesignStage();\n  };\n\n  const handleBackToThemes = (\n    setSelectedTheme: (theme: Theme | null) => void\n  ) => {\n    console.log(\"Going back to themes\");\n    setCurrentStage(\"theme-selection\");\n    setSelectedTheme(null);\n  };\n\n  const proceedToDesignStage = (\n    selectedTheme: Theme | null,\n    answers: Answer[],\n    generateDesignWithAI: () => Promise<void>,\n    setDesignImage: (image?: string) => void\n  ) => {\n    console.log(\"Proceeding to design stage\");\n    setCurrentStep(\"design\");\n    setCurrentStage(\"customization\");\n\n    // Generate design with AI using the selected theme and answers\n    if (selectedTheme && answers.length > 0) {\n      generateDesignWithAI().catch((error) => {\n        console.error(\"Error generating AI design:\", error);\n        setDesignImage(undefined);\n      });\n    } else {\n      // Set placeholder design image if no theme or answers\n      setDesignImage(undefined);\n    }\n  };\n\n  // This method is specifically for loading saved designs\n  const setDesignStage = () => {\n    console.log(\"Setting design stage for loaded design\");\n    setCurrentStep(\"design\");\n    setCurrentStage(\"customization\");\n  };\n\n  return {\n    currentStep,\n    currentStage,\n    showConfirmation,\n    showLoginDialog,\n    setCurrentStep,\n    setCurrentStage,\n    setShowConfirmation,\n    setShowLoginDialog,\n    handleThemeSelect,\n    handleQuestionFlowComplete,\n    handleConfirmDesign,\n    handleLoginSuccess,\n    handleBackToThemes,\n    proceedToDesignStage,\n    setDesignStage\n  };\n}\n"],"names":[],"mappings":";;;;AACA;AAGA;;;;AAEO,SAAS;;IACd,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,6IAAO;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAa;IAC3D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAc;IAC9D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IAEvD,sBAAsB;IACtB,MAAM,oBAAoB,CACxB,OACA;QAEA,QAAQ,GAAG,CAAC,mBAAmB;QAC/B,iBAAiB;QACjB,gBAAgB;IAClB;IAEA,MAAM,6BAA6B,CACjC,iBACA;QAEA,QAAQ,GAAG,CAAC,wCAAwC;QACpD,WAAW;QACX,oBAAoB;IACtB;IAEA,MAAM,sBAAsB,CAC1B;QAEA,QAAQ,GAAG,CAAC;QACZ,oBAAoB;QAEpB,6BAA6B;QAC7B,IAAI,CAAC,iBAAiB;YACpB,QAAQ,GAAG,CAAC;YACZ,mBAAmB;YACnB;QACF;QAEA;IACF;IAEA,MAAM,qBAAqB,CACzB;QAEA,QAAQ,GAAG,CAAC;QACZ,mBAAmB;QACnB;IACF;IAEA,MAAM,qBAAqB,CACzB;QAEA,QAAQ,GAAG,CAAC;QACZ,gBAAgB;QAChB,iBAAiB;IACnB;IAEA,MAAM,uBAAuB,CAC3B,eACA,SACA,sBACA;QAEA,QAAQ,GAAG,CAAC;QACZ,eAAe;QACf,gBAAgB;QAEhB,+DAA+D;QAC/D,IAAI,iBAAiB,QAAQ,MAAM,GAAG,GAAG;YACvC,uBAAuB,KAAK,CAAC,CAAC;gBAC5B,QAAQ,KAAK,CAAC,+BAA+B;gBAC7C,eAAe;YACjB;QACF,OAAO;YACL,sDAAsD;YACtD,eAAe;QACjB;IACF;IAEA,wDAAwD;IACxD,MAAM,iBAAiB;QACrB,QAAQ,GAAG,CAAC;QACZ,eAAe;QACf,gBAAgB;IAClB;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GAxGgB;;QACc,6IAAO"}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/hooks/design/constants.ts"],"sourcesContent":["// Centralized design constants and color definitions\nimport { tshirtColors } from \"../../assets\";\n\n// Define t-shirt color options\nexport const TSHIRT_COLORS = {\n  BLACK: \"#000000\",\n  WHITE: \"#FFFFFF\",\n  RED: \"#DC2626\",\n  GREY: \"#8A898C\",\n  BLUE: \"#1EAEDB\"\n};\n\n// Map colors to their corresponding t-shirt images using proper imports\nexport const TSHIRT_COLOR_IMAGES = {\n  \"#000000\": tshirtColors.black,  // Black\n  \"#FFFFFF\": tshirtColors.white,  // White\n  \"#DC2626\": tshirtColors.red,    // Red\n  \"#8A898C\": tshirtColors.grey,   // Grey\n  \"#1EAEDB\": tshirtColors.blue    // Blue\n};\n\n// Available t-shirt sizes\nexport const TSHIRT_SIZES = [\n  { name: \"XS\", value: \"XS\" },\n  { name: \"S\", value: \"S\" },\n  { name: \"M\", value: \"M\" },\n  { name: \"L\", value: \"L\" },\n  { name: \"XL\", value: \"XL\" },\n  { name: \"XXL\", value: \"XXL\" }\n];\n\nexport const DEFAULT_CANVAS_SIZE = 300;\nexport const DEFAULT_TSHIRT_COLOR = TSHIRT_COLORS.WHITE;\nexport const DEFAULT_SIZE = \"M\";"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,qDAAqD;AACrD;;AAGO,MAAM,gBAAgB;IAC3B,OAAO;IACP,OAAO;IACP,KAAK;IACL,MAAM;IACN,MAAM;AACR;AAGO,MAAM,sBAAsB;IACjC,WAAW,yIAAY,CAAC,KAAK;IAC7B,WAAW,yIAAY,CAAC,KAAK;IAC7B,WAAW,yIAAY,CAAC,GAAG;IAC3B,WAAW,yIAAY,CAAC,IAAI;IAC5B,WAAW,yIAAY,CAAC,IAAI,CAAI,OAAO;AACzC;AAGO,MAAM,eAAe;IAC1B;QAAE,MAAM;QAAM,OAAO;IAAK;IAC1B;QAAE,MAAM;QAAK,OAAO;IAAI;IACxB;QAAE,MAAM;QAAK,OAAO;IAAI;IACxB;QAAE,MAAM;QAAK,OAAO;IAAI;IACxB;QAAE,MAAM;QAAM,OAAO;IAAK;IAC1B;QAAE,MAAM;QAAO,OAAO;IAAM;CAC7B;AAEM,MAAM,sBAAsB;AAC5B,MAAM,uBAAuB,cAAc,KAAK;AAChD,MAAM,eAAe"}},
    {"offset": {"line": 492, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/hooks/design/useDesignData.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\nimport { Theme } from \"./types\";\nimport { TSHIRT_COLORS } from \"./constants\";\nimport { Answer } from \"@/components/design/QuestionFlow\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { toast } from \"@/components/ui/toast\";\nimport { useUser } from \"@/contexts/UserContext\";\n\nexport function useDesignData(setDesignStage: () => void) {\n  const { user } = useUser();\n  const [selectedTheme, setSelectedTheme] = useState<Theme | null>(null);\n  const [answers, setAnswers] = useState<Answer[]>([]);\n  const [designId, setDesignId] = useState<string | null>(null);\n  const [designName, setDesignName] = useState<string>(\"\");\n  const [tshirtColor, setTshirtColor] = useState(TSHIRT_COLORS.WHITE);\n  const [designImage, setDesignImage] = useState<string | undefined>(undefined);\n  const [selectedSize, setSelectedSize] = useState<string>(\"M\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  // Fetch existing design data if editing\n  const fetchDesignData = useCallback(async (id: string) => {\n    try {\n      setIsLoading(true);\n\n      const { data, error } = await supabase\n        .from('designs')\n        .select('id, name, t_shirt_color, preview_url, design_data')\n        .eq('id', id as any)\n        .single();\n\n      if (error) {\n        throw error;\n      }\n\n      if (!data) {\n        toast.error(\"Design not found\");\n        router.push('/dashboard/designs');\n        return;\n      }\n\n      console.log(\"Fetched design data:\", data);\n\n      // Set the design data\n      setDesignName((data as any).name || \"Untitled Design\");\n      setTshirtColor((data as any).t_shirt_color || TSHIRT_COLORS.WHITE);\n      setDesignImage((data as any).preview_url);\n\n      // Parse the design data JSON\n      if ((data as any).design_data) {\n        const designData = typeof (data as any).design_data === 'string'\n          ? JSON.parse((data as any).design_data)\n          : (data as any).design_data;\n\n        console.log(\"Parsed design data:\", designData);\n\n        if (designData.answers) {\n          setAnswers(designData.answers);\n        }\n\n        if (designData.theme_id) {\n          try {\n            // Convert theme_id to proper UUID format if it's a number\n            let themeId = designData.theme_id;\n\n            // If theme_id is a number, we need to look it up differently\n            if (typeof themeId === 'number') {\n              console.log(\"Converting numeric theme_id to UUID:\", themeId);\n              // For now, skip theme loading for numeric IDs to prevent errors\n              console.warn(\"Numeric theme_id detected, skipping theme fetch to prevent UUID errors\");\n            } else if (typeof themeId === 'string' && themeId.length > 0) {\n              const { data: themeData, error: themeError } = await supabase\n                .from('themes')\n                .select('id, name, description, category, is_active, thumbnail_url, created_at')\n                .eq('id', themeId as any)\n                .single();\n\n              if (themeError) {\n                console.error(\"Error fetching theme:\", themeError);\n              } else if (themeData) {\n                setSelectedTheme(themeData as any);\n              }\n            }\n          } catch (themeError) {\n            console.error(\"Error processing theme:\", themeError);\n          }\n        }\n      }\n\n      // Important: Set the design stage to customization\n      // This ensures we bypass the theme selection flow\n      setDesignStage();\n\n      toast.success(\"Design loaded successfully\", {\n        description: \"You can now continue editing your design.\"\n      });\n    } catch (error) {\n      console.error(\"Error fetching design:\", error);\n      toast.error(\"Failed to load design\", {\n        description: \"Please try again later.\"\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }, [setDesignStage, router]);\n\n  // Extract design ID from URL query parameters\n  useEffect(() => {\n    const id = searchParams.get('id');\n\n    if (id && id !== designId) {\n      setDesignId(id);\n      fetchDesignData(id);\n    } else if (!id && !designName) {\n      // Generate a design name using the current date and time\n      const date = new Date();\n      setDesignName(`Design ${date.toLocaleString(\"en-US\", {\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\"\n      })}`);\n    }\n  }, [searchParams, designId, designName]); // Removed fetchDesignData from dependencies\n\n  const handleDesignChange = (designDataUrl: string) => {\n    console.log(\"Design canvas updated\");\n    setDesignImage(designDataUrl);\n  };\n\n  const saveDesignToDatabase = async (\n    imageUrl: string,\n    prompt: string,\n    userId: string\n  ) => {\n    try {\n      if (!userId) return;\n\n      // Create a new design record\n      const { data, error } = await supabase\n        .from('designs')\n        .insert({\n          user_id: userId,\n          name: designName.replace(/<[^>]*>/g, '').trim(),\n          t_shirt_color: tshirtColor.replace(/<[^>]*>/g, '').trim(),\n          preview_url: imageUrl,\n          design_data: JSON.stringify({\n            answers: (answers || []).map(a => ({\n              question: String(a?.question || '').replace(/<[^>]*>/g, '').trim(),\n              answer: String(a?.answer || '').replace(/<[^>]*>/g, '').trim(),\n            })),\n            theme_id: selectedTheme?.id,\n            prompt: String(prompt || '').replace(/<[^>]*>/g, '').trim()\n          })\n        } as any)\n        .select('id');\n\n      if (error) throw error;\n\n      if (data && data.length > 0) {\n        setDesignId((data as any)[0].id);\n      }\n    } catch (error) {\n      console.error(\"Error saving AI design to database:\", error);\n    }\n  };\n\n  return {\n    selectedTheme,\n    answers,\n    designId,\n    designName,\n    tshirtColor,\n    selectedSize,\n    designImage,\n    isLoading,\n    setSelectedTheme,\n    setAnswers,\n    setDesignId,\n    setDesignName,\n    setTshirtColor,\n    setSelectedSize,\n    setDesignImage,\n    setIsLoading,\n    fetchDesignData,\n    handleDesignChange,\n    saveDesignToDatabase\n  };\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 678, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/hooks/use-toast.ts"],"sourcesContent":["interface ToastOptions {\n  title?: string;\n  description?: string;\n  variant?: \"default\" | \"destructive\";\n}\n\nfunction showToast(options: ToastOptions | string) {\n  const toastData = typeof options === 'string' ? { title: options } : options;\n  const { title, description, variant = \"default\" } = toastData;\n  \n  const message = variant === \"destructive\" ? `ERROR: ${title}` : title;\n  console.log(`Toast: ${message}${description ? ` - ${description}` : ''}`);\n}\n\n// Create a callable toast function with properties\nconst toastFunction = (options: ToastOptions | string) => showToast(options);\n\n// Add method properties\ntoastFunction.success = (title: string, options?: { description?: string }) => \n  showToast({ title, ...options });\n\ntoastFunction.error = (title: string, options?: { description?: string }) => \n  showToast({ title, variant: \"destructive\", ...options });\n\nexport const toast = toastFunction;\n\nexport function useToast() {\n  return {\n    toast: toastFunction,\n    toasts: [],\n  };\n}"],"names":[],"mappings":";;;;;;AAMA,SAAS,UAAU,OAA8B;IAC/C,MAAM,YAAY,OAAO,YAAY,WAAW;QAAE,OAAO;IAAQ,IAAI;IACrE,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,SAAS,EAAE,GAAG;IAEpD,MAAM,UAAU,YAAY,gBAAgB,CAAC,OAAO,EAAE,OAAO,GAAG;IAChE,QAAQ,GAAG,CAAC,CAAC,OAAO,EAAE,UAAU,cAAc,CAAC,GAAG,EAAE,aAAa,GAAG,IAAI;AAC1E;AAEA,mDAAmD;AACnD,MAAM,gBAAgB,CAAC,UAAmC,UAAU;AAEpE,wBAAwB;AACxB,cAAc,OAAO,GAAG,CAAC,OAAe,UACtC,UAAU;QAAE;QAAO,GAAG,OAAO;IAAC;AAEhC,cAAc,KAAK,GAAG,CAAC,OAAe,UACpC,UAAU;QAAE;QAAO,SAAS;QAAe,GAAG,OAAO;IAAC;AAEjD,MAAM,QAAQ;AAEd,SAAS;IACd,OAAO;QACL,OAAO;QACP,QAAQ,EAAE;IACZ;AACF"}},
    {"offset": {"line": 718, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/services/ErrorLogger.ts"],"sourcesContent":["\nimport { toast } from \"@/hooks/use-toast\";\n\nexport interface ErrorLog {\n  id: string;\n  timestamp: Date;\n  error: Error;\n  context: string;\n  userId?: string;\n  metadata?: Record<string, unknown>;\n}\n\nexport class ErrorLogger {\n  private static logs: ErrorLog[] = [];\n  private static maxLogs = 100;\n\n  static log(error: Error, context: string, metadata?: Record<string, unknown>): void {\n    const errorLog: ErrorLog = {\n      id: crypto.randomUUID(),\n      timestamp: new Date(),\n      error,\n      context,\n      metadata\n    };\n\n    // Add to in-memory logs\n    this.logs.unshift(errorLog);\n    if (this.logs.length > this.maxLogs) {\n      this.logs = this.logs.slice(0, this.maxLogs);\n    }\n\n    // Log to console for development\n    console.error(`[ErrorLogger] ${context}:`, error, metadata);\n\n    // Show user-friendly toast for critical errors\n    if (this.isCriticalError(context)) {\n      this.showUserError(error, context);\n    }\n  }\n\n  private static isCriticalError(context: string): boolean {\n    const criticalContexts = [\n      'DesignGeneration',\n      'DesignSave',\n      'Authentication',\n      'CanvasRender'\n    ];\n    return criticalContexts.some(ctx => context.includes(ctx));\n  }\n\n  private static showUserError(error: Error, context: string): void {\n    const userFriendlyMessages: Record<string, string> = {\n      DesignGeneration: \"Failed to generate design. Please try again.\",\n      DesignSave: \"Failed to save design. Please check your connection and try again.\",\n      Authentication: \"Authentication error. Please sign in again.\",\n      CanvasRender: \"Canvas rendering error. Please refresh the page.\"\n    };\n\n    const message = Object.entries(userFriendlyMessages).find(([key]) => \n      context.includes(key)\n    )?.[1] || \"An unexpected error occurred. Please try again.\";\n\n    toast({\n      variant: \"destructive\",\n      title: \"Error\",\n      description: message\n    });\n  }\n\n  static getLogs(): ErrorLog[] {\n    return [...this.logs];\n  }\n\n  static clearLogs(): void {\n    this.logs = [];\n  }\n}\n"],"names":[],"mappings":";;;;AACA;;AAWO,MAAM;IACX,OAAe,OAAmB,EAAE,CAAC;IACrC,OAAe,UAAU,IAAI;IAE7B,OAAO,IAAI,KAAY,EAAE,OAAe,EAAE,QAAkC,EAAQ;QAClF,MAAM,WAAqB;YACzB,IAAI,OAAO,UAAU;YACrB,WAAW,IAAI;YACf;YACA;YACA;QACF;QAEA,wBAAwB;QACxB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;QAClB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,EAAE;YACnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,OAAO;QAC7C;QAEA,iCAAiC;QACjC,QAAQ,KAAK,CAAC,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO;QAElD,+CAA+C;QAC/C,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU;YACjC,IAAI,CAAC,aAAa,CAAC,OAAO;QAC5B;IACF;IAEA,OAAe,gBAAgB,OAAe,EAAW;QACvD,MAAM,mBAAmB;YACvB;YACA;YACA;YACA;SACD;QACD,OAAO,iBAAiB,IAAI,CAAC,CAAA,MAAO,QAAQ,QAAQ,CAAC;IACvD;IAEA,OAAe,cAAc,KAAY,EAAE,OAAe,EAAQ;QAChE,MAAM,uBAA+C;YACnD,kBAAkB;YAClB,YAAY;YACZ,gBAAgB;YAChB,cAAc;QAChB;QAEA,MAAM,UAAU,OAAO,OAAO,CAAC,sBAAsB,IAAI,CAAC,CAAC,CAAC,IAAI,GAC9D,QAAQ,QAAQ,CAAC,OAChB,CAAC,EAAE,IAAI;QAEV,IAAA,wIAAK,EAAC;YACJ,SAAS;YACT,OAAO;YACP,aAAa;QACf;IACF;IAEA,OAAO,UAAsB;QAC3B,OAAO;eAAI,IAAI,CAAC,IAAI;SAAC;IACvB;IAEA,OAAO,YAAkB;QACvB,IAAI,CAAC,IAAI,GAAG,EAAE;IAChB;AACF"}},
    {"offset": {"line": 786, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/lib/sanitization.ts"],"sourcesContent":["// Minimal sanitization utilities for client-side safety\n// NOTE: Keep lightweight and dependency-free per user's preference to avoid adding DOMPurify unless requested\n\n// Strip HTML tags and risky characters from plain text inputs\nexport function sanitizeText(input: unknown): string {\n  if (typeof input !== 'string') return '';\n  const withoutTags = input.replace(/<[^>]*>/g, '');\n  // Allow basic punctuation, letters, numbers and spaces; collapse whitespace\n  const basic = withoutTags.replace(/[^A-Za-z0-9 .,!?;:'\"()\\-_/@#&%+\\[\\]]+/g, ' ');\n  return basic.trim().replace(/\\s{2,}/g, ' ');\n}\n\n// Deep sanitize an object's string fields\nexport function sanitizeObject<T extends Record<string, any>>(obj: T): T {\n  if (!obj || typeof obj !== 'object') return obj;\n  const clone: any = Array.isArray(obj) ? [] : {};\n  for (const key of Object.keys(obj)) {\n    const value = obj[key];\n    if (typeof value === 'string') {\n      clone[key] = sanitizeText(value);\n    } else if (value && typeof value === 'object') {\n      clone[key] = sanitizeObject(value);\n    } else {\n      clone[key] = value;\n    }\n  }\n  return clone as T;\n}\n\n// Validate an image data URL (PNG/JPEG/WebP) with size guard\nexport function isSafeImageDataUrl(dataUrl: unknown, maxBytes = 5 * 1024 * 1024): boolean {\n  if (typeof dataUrl !== 'string') return false;\n  if (!/^data:image\\/(png|jpeg|jpg|webp);base64,[A-Za-z0-9+/=]+$/.test(dataUrl)) return false;\n  try {\n    const base64 = dataUrl.split(',')[1] || '';\n    // Rough size estimate: 4/3 * base64 length\n    const estimatedBytes = Math.floor((base64.length * 3) / 4);\n    return estimatedBytes <= maxBytes;\n  } catch {\n    return false;\n  }\n}\n\n// Sanitize an answers array (question/answer strings only)\nexport function sanitizeAnswers(answers: Array<{ question: string; answer: string }> = []) {\n  return answers\n    .filter(a => a && typeof a.question === 'string' && typeof a.answer === 'string')\n    .map(a => ({\n      question: sanitizeText(a.question),\n      answer: sanitizeText(a.answer)\n    }));\n}\n\n// Utility to JSON.stringify safely after sanitization\nexport function safeStringify(obj: unknown): string {\n  try {\n    return JSON.stringify(obj);\n  } catch {\n    return '{}';\n  }\n}\n\n"],"names":[],"mappings":"AAAA,wDAAwD;AACxD,8GAA8G;AAE9G,8DAA8D;;;;;;;;;;;;;AACvD,SAAS,aAAa,KAAc;IACzC,IAAI,OAAO,UAAU,UAAU,OAAO;IACtC,MAAM,cAAc,MAAM,OAAO,CAAC,YAAY;IAC9C,4EAA4E;IAC5E,MAAM,QAAQ,YAAY,OAAO,CAAC,0CAA0C;IAC5E,OAAO,MAAM,IAAI,GAAG,OAAO,CAAC,WAAW;AACzC;AAGO,SAAS,eAA8C,GAAM;IAClE,IAAI,CAAC,OAAO,OAAO,QAAQ,UAAU,OAAO;IAC5C,MAAM,QAAa,MAAM,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC;IAC9C,KAAK,MAAM,OAAO,OAAO,IAAI,CAAC,KAAM;QAClC,MAAM,QAAQ,GAAG,CAAC,IAAI;QACtB,IAAI,OAAO,UAAU,UAAU;YAC7B,KAAK,CAAC,IAAI,GAAG,aAAa;QAC5B,OAAO,IAAI,SAAS,OAAO,UAAU,UAAU;YAC7C,KAAK,CAAC,IAAI,GAAG,eAAe;QAC9B,OAAO;YACL,KAAK,CAAC,IAAI,GAAG;QACf;IACF;IACA,OAAO;AACT;AAGO,SAAS,mBAAmB,OAAgB,EAAE,WAAW,IAAI,OAAO,IAAI;IAC7E,IAAI,OAAO,YAAY,UAAU,OAAO;IACxC,IAAI,CAAC,2DAA2D,IAAI,CAAC,UAAU,OAAO;IACtF,IAAI;QACF,MAAM,SAAS,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI;QACxC,2CAA2C;QAC3C,MAAM,iBAAiB,KAAK,KAAK,CAAC,AAAC,OAAO,MAAM,GAAG,IAAK;QACxD,OAAO,kBAAkB;IAC3B,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAGO,SAAS,gBAAgB,UAAuD,EAAE;IACvF,OAAO,QACJ,MAAM,CAAC,CAAA,IAAK,KAAK,OAAO,EAAE,QAAQ,KAAK,YAAY,OAAO,EAAE,MAAM,KAAK,UACvE,GAAG,CAAC,CAAA,IAAK,CAAC;YACT,UAAU,aAAa,EAAE,QAAQ;YACjC,QAAQ,aAAa,EAAE,MAAM;QAC/B,CAAC;AACL;AAGO,SAAS,cAAc,GAAY;IACxC,IAAI;QACF,OAAO,KAAK,SAAS,CAAC;IACxB,EAAE,OAAM;QACN,OAAO;IACT;AACF"}},
    {"offset": {"line": 855, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/hooks/design/useDesignGeneration.ts"],"sourcesContent":["\nimport { useState } from \"react\";\nimport { Theme } from \"./types\";\nimport { Answer } from \"@/components/design/QuestionFlow\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { toast } from \"@/hooks/use-toast\";\nimport { useUser } from \"@/contexts/UserContext\";\nimport { ErrorLogger } from \"@/services/ErrorLogger\";\nimport { sanitizeAnswers, sanitizeText } from \"@/lib/sanitization\";\n\nexport function useDesignGeneration() {\n  const { user, isAuthenticated } = useUser();\n  const [isGenerating, setIsGenerating] = useState(false);\n\n  const generateDesignWithAI = async (\n    selectedTheme: Theme | null,\n    answers: Answer[],\n    setDesignImage: (image: string) => void,\n    saveDesignCallback: (imageUrl: string, prompt: string, userId: string) => Promise<void>\n  ) => {\n    if (!selectedTheme || answers.length === 0) {\n      const error = new Error(\"Theme and answers are required to generate design\");\n      ErrorLogger.log(error, \"DesignGeneration:Validation\", {\n        hasTheme: !!selectedTheme,\n        answersLength: answers.length\n      });\n\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: \"Theme and answers are required to generate design\"\n      });\n      return;\n    }\n\n    try {\n      setIsGenerating(true);\n      toast({\n        title: \"Generating design...\",\n        description: \"Creating your custom t-shirt design with AI\"\n      });\n\n      // Check authentication status\n      console.log(\"CLIENT: Authentication status:\", isAuthenticated);\n      console.log(\"ðŸ” CLIENT: User data:\", user ? `ID: ${user.id}` : \"No user\");\n\n      // Validate answers to ensure they have the right format\n      const validAnswers = answers.filter(answer =>\n        answer && typeof answer.question === 'string' && typeof answer.answer === 'string'\n      );\n\n      if (validAnswers.length === 0) {\n        throw new Error(\"No valid answers provided\");\n      }\n\n      // Sanitize inputs\n      const sanitizedTheme = selectedTheme ? { ...selectedTheme, name: sanitizeText(selectedTheme.name) } : null;\n      const sanitizedAnswers = sanitizeAnswers(validAnswers);\n\n      // Prepare payload with explicit userId\n      const payload = {\n        theme: sanitizedTheme,\n        answers: sanitizedAnswers,\n        userId: user?.id || null\n      };\n\n      console.log(\"CLIENT: Invoking generate-ai-design function with:\", {\n        theme: selectedTheme.name,\n        answersCount: validAnswers.length,\n        userId: user?.id || \"not provided\"\n      });\n\n      const startTime = Date.now();\n\n      // Get the current session\n      const { data: { session } } = await supabase.auth.getSession();\n      console.log(\"ðŸ”‘ CLIENT: Session available:\", !!session);\n\n      // Call the edge function to generate the design with explicit headers\n      console.log(\"ðŸ“¡ CLIENT: Calling supabase.functions.invoke now...\");\n      const { data: aiResponse, error: aiError } = await supabase.functions.invoke(\n        'generate-ai-design',\n        {\n          body: payload,\n          headers: session ? {\n            Authorization: `Bearer ${session.access_token}`\n          } : undefined,\n        }\n      );\n\n      console.log(`âœ… CLIENT: Function invocation completed in ${Date.now() - startTime}ms`);\n\n      if (aiError) {\n        console.error(\"âŒ CLIENT: Function returned error:\", aiError);\n        ErrorLogger.log(new Error(aiError.message), \"DesignGeneration:AIFunction\", {\n          functionError: aiError,\n          theme: selectedTheme.name,\n          userId: user?.id\n        });\n        throw new Error(aiError.message);\n      }\n\n      console.log(\"âœ… CLIENT: AI response received:\", {\n        hasImageUrl: !!aiResponse?.imageUrl,\n        promptLength: aiResponse?.prompt?.length || 0,\n        responseSize: JSON.stringify(aiResponse).length\n      });\n\n      if (!aiResponse || !aiResponse.imageUrl) {\n        console.error(\"âŒ CLIENT: Missing image URL in response\");\n        ErrorLogger.log(new Error(\"No design image was generated\"), \"DesignGeneration:MissingImage\", {\n          response: aiResponse,\n          theme: selectedTheme.name\n        });\n        throw new Error(\"No design image was generated\");\n      }\n\n      // Set the generated design image\n      setDesignImage(aiResponse.imageUrl);\n\n      // Save the design image with the answers and theme\n      if (user) {\n        await saveDesignCallback(aiResponse.imageUrl, aiResponse.prompt || '', user.id);\n      }\n\n      toast({\n        title: aiResponse.fallback ? \"Design created with fallback\" : \"Your design is ready!\",\n        description: aiResponse.fallback\n          ? \"We used a simplified design due to content restrictions.\"\n          : \"We've created a custom t-shirt design based on your preferences.\"\n      });\n    } catch (error) {\n      console.error(\"âŒ CLIENT: Error generating design with AI:\", error);\n      console.error(\"âŒ CLIENT: Error details:\", {\n        message: (error as any).message,\n        stack: (error as any).stack,\n        name: (error as any).name\n      });\n\n      ErrorLogger.log(error as Error, \"DesignGeneration:GeneralError\", {\n        theme: selectedTheme?.name,\n        answersCount: answers.length,\n        userId: user?.id,\n        isAuthenticated\n      });\n\n      toast({\n        variant: \"destructive\",\n        title: \"Failed to generate design\",\n        description: \"Please try again with different preferences.\"\n      });\n\n      // Set placeholder design image if generation fails\n      setDesignImage(\"/assets/images/design/placeholder.svg\");\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  return {\n    isGenerating,\n    setIsGenerating,\n    generateDesignWithAI\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1008, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/hooks/design/useDesignStorage.ts"],"sourcesContent":["import { useState } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { toast } from \"@/components/ui/toast\";\nimport { useUser } from \"@/contexts/UserContext\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { Answer } from \"@/components/design/QuestionFlow\";\nimport { Theme } from \"./types\";\n\nexport function useDesignStorage() {\n  const { user } = useUser();\n  const [isSaving, setIsSaving] = useState(false);\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  const saveDesignToDatabase = async (\n    imageUrl: string,\n    prompt: string,\n    answers: Answer[],\n    selectedTheme: Theme | null,\n    tshirtColor: string,\n    designId: string | null,\n    designName: string,\n    setDesignId: (id: string | null) => void,\n    setHasUnsavedChanges: (value: boolean) => void\n  ) => {\n    try {\n      if (!user) {\n        console.log(\"No user logged in, cannot save design\");\n        return null;\n      }\n\n      setIsSaving(true);\n      console.log(\"Saving design to database:\", {\n        designId,\n        designName,\n        tshirtColor,\n        imageUrl: imageUrl?.substring(0, 50) + \"...\" // Log truncated image URL\n      });\n\n      // Create a new design record or update if designId exists\n      const clean = (v: string) => v.replace(/<[^>]*>/g, '').trim();\n      const designData = {\n        user_id: user.id,\n        name: clean(designName),\n        t_shirt_color: clean(tshirtColor),\n        preview_url: imageUrl,\n        design_data: {\n          answers: (answers || []).map(a => ({\n            question: clean(String(a?.question || '')),\n            answer: clean(String(a?.answer || '')),\n          })),\n          theme_id: selectedTheme?.id,\n          prompt: clean(prompt)\n        }\n      };\n\n      let result;\n\n      if (designId) {\n        console.log(\"Updating existing design:\", designId);\n        // Update existing design\n        result = await supabase\n          .from('designs')\n          .update(designData as any)\n          .eq('id', designId as any)\n          .select('id');\n      } else {\n        console.log(\"Creating new design\");\n        // Create new design\n        result = await supabase\n          .from('designs')\n          .insert(designData as any)\n          .select('id');\n      }\n\n      const { data, error } = result;\n\n      if (error) {\n        console.error(\"Database error when saving design:\", error);\n        throw error;\n      }\n\n      if (data && data.length > 0) {\n        console.log(\"Design saved successfully with ID:\", (data as any)[0].id);\n        setDesignId((data as any)[0].id);\n\n        // Update URL with the design ID if it's not already there\n        const currentId = searchParams.get('id');\n        if (currentId !== (data as any)[0].id) {\n          router.replace(`/design?id=${(data as any)[0].id}`);\n        }\n      } else {\n        console.warn(\"No data returned when saving design\");\n      }\n\n      setHasUnsavedChanges(false);\n\n      return (data as any)?.[0]?.id;\n    } catch (error) {\n      console.error(\"Error saving design to database:\", error);\n      throw error;\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return {\n    saveDesignToDatabase,\n    isSaving\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;AACA;;;;;;AAIO,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,6IAAO;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,eAAe,IAAA,wJAAe;IAEpC,MAAM,uBAAuB,OAC3B,UACA,QACA,SACA,eACA,aACA,UACA,YACA,aACA;QAEA,IAAI;YACF,IAAI,CAAC,MAAM;gBACT,QAAQ,GAAG,CAAC;gBACZ,OAAO;YACT;YAEA,YAAY;YACZ,QAAQ,GAAG,CAAC,8BAA8B;gBACxC;gBACA;gBACA;gBACA,UAAU,UAAU,UAAU,GAAG,MAAM,MAAM,0BAA0B;YACzE;YAEA,0DAA0D;YAC1D,MAAM,QAAQ,CAAC,IAAc,EAAE,OAAO,CAAC,YAAY,IAAI,IAAI;YAC3D,MAAM,aAAa;gBACjB,SAAS,KAAK,EAAE;gBAChB,MAAM,MAAM;gBACZ,eAAe,MAAM;gBACrB,aAAa;gBACb,aAAa;oBACX,SAAS,CAAC,WAAW,EAAE,EAAE,GAAG,CAAC,CAAA,IAAK,CAAC;4BACjC,UAAU,MAAM,OAAO,GAAG,YAAY;4BACtC,QAAQ,MAAM,OAAO,GAAG,UAAU;wBACpC,CAAC;oBACD,UAAU,eAAe;oBACzB,QAAQ,MAAM;gBAChB;YACF;YAEA,IAAI;YAEJ,IAAI,UAAU;gBACZ,QAAQ,GAAG,CAAC,6BAA6B;gBACzC,yBAAyB;gBACzB,SAAS,MAAM,wJAAQ,CACpB,IAAI,CAAC,WACL,MAAM,CAAC,YACP,EAAE,CAAC,MAAM,UACT,MAAM,CAAC;YACZ,OAAO;gBACL,QAAQ,GAAG,CAAC;gBACZ,oBAAoB;gBACpB,SAAS,MAAM,wJAAQ,CACpB,IAAI,CAAC,WACL,MAAM,CAAC,YACP,MAAM,CAAC;YACZ;YAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG;YAExB,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,sCAAsC;gBACpD,MAAM;YACR;YAEA,IAAI,QAAQ,KAAK,MAAM,GAAG,GAAG;gBAC3B,QAAQ,GAAG,CAAC,sCAAsC,AAAC,IAAY,CAAC,EAAE,CAAC,EAAE;gBACrE,YAAY,AAAC,IAAY,CAAC,EAAE,CAAC,EAAE;gBAE/B,0DAA0D;gBAC1D,MAAM,YAAY,aAAa,GAAG,CAAC;gBACnC,IAAI,cAAc,AAAC,IAAY,CAAC,EAAE,CAAC,EAAE,EAAE;oBACrC,OAAO,OAAO,CAAC,CAAC,WAAW,EAAE,AAAC,IAAY,CAAC,EAAE,CAAC,EAAE,EAAE;gBACpD;YACF,OAAO;gBACL,QAAQ,IAAI,CAAC;YACf;YAEA,qBAAqB;YAErB,OAAQ,MAAc,CAAC,EAAE,EAAE;QAC7B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oCAAoC;YAClD,MAAM;QACR,SAAU;YACR,YAAY;QACd;IACF;IAEA,OAAO;QACL;QACA;IACF;AACF;GAtGgB;;QACG,6IAAO;QAET,kJAAS;QACH,wJAAe"}},
    {"offset": {"line": 1110, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/hooks/design/useDesignUI.ts"],"sourcesContent":["\nimport { useState } from \"react\";\nimport { useUser } from \"@/contexts/UserContext\";\nimport { useDesignStorage } from \"./useDesignStorage\";\nimport { toast } from \"@/hooks/use-toast\";\nimport { ErrorLogger } from \"@/services/ErrorLogger\";\nimport { Theme } from \"./types\";\nimport { Answer } from \"@/components/design/QuestionFlow\";\n\nexport function useDesignUI() {\n  const { user, isAuthenticated } = useUser();\n  const { saveDesignToDatabase } = useDesignStorage();\n  const [isSaving, setIsSaving] = useState(false);\n\n  const handleSaveDesign = async (\n    designImage: string | undefined,\n    designId: string | null,\n    designName: string,\n    tshirtColor: string,\n    selectedTheme: Theme | null,\n    answers: Answer[],\n    setDesignId: (id: string) => void\n  ): Promise<boolean> => {\n    if (!isAuthenticated) {\n      console.log(\"User not authenticated for save\");\n      return false;\n    }\n\n    if (!designImage || !user) {\n      ErrorLogger.log(\n        new Error(\"Cannot save design - missing image or user\"),\n        \"DesignSave:Validation\",\n        { hasImage: !!designImage, hasUser: !!user }\n      );\n\n      toast({\n        variant: \"destructive\",\n        title: \"Cannot save design\",\n        description: \"Please complete your design before saving\"\n      });\n      return false;\n    }\n\n    try {\n      setIsSaving(true);\n      console.log(\"Starting design save process\");\n\n      await saveDesignToDatabase(\n        designImage,\n        \"\", // Empty prompt for manual saves\n        answers,\n        selectedTheme,\n        tshirtColor,\n        designId,\n        designName,\n        setDesignId as any,\n        () => { } // No unsaved changes callback needed here\n      );\n\n      toast({\n        title: \"Design saved successfully!\",\n        description: \"You can find it in your saved designs.\"\n      });\n\n      return true;\n    } catch (error) {\n      console.error(\"Error saving design:\", error);\n      ErrorLogger.log(error as Error, \"DesignSave:DatabaseError\", {\n        designId,\n        designName,\n        userId: user?.id\n      });\n\n      toast({\n        variant: \"destructive\",\n        title: \"Failed to save design\",\n        description: \"Please try again later.\"\n      });\n      return false;\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return {\n    isSaving,\n    setIsSaving,\n    handleSaveDesign\n  };\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;;;;;;;AAIO,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,GAAG,IAAA,6IAAO;IACzC,MAAM,EAAE,oBAAoB,EAAE,GAAG,IAAA,iKAAgB;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,MAAM,mBAAmB,OACvB,aACA,UACA,YACA,aACA,eACA,SACA;QAEA,IAAI,CAAC,iBAAiB;YACpB,QAAQ,GAAG,CAAC;YACZ,OAAO;QACT;QAEA,IAAI,CAAC,eAAe,CAAC,MAAM;YACzB,gJAAW,CAAC,GAAG,CACb,IAAI,MAAM,+CACV,yBACA;gBAAE,UAAU,CAAC,CAAC;gBAAa,SAAS,CAAC,CAAC;YAAK;YAG7C,IAAA,wIAAK,EAAC;gBACJ,SAAS;gBACT,OAAO;gBACP,aAAa;YACf;YACA,OAAO;QACT;QAEA,IAAI;YACF,YAAY;YACZ,QAAQ,GAAG,CAAC;YAEZ,MAAM,qBACJ,aACA,IACA,SACA,eACA,aACA,UACA,YACA,aACA,KAAQ,EAAE,0CAA0C;;YAGtD,IAAA,wIAAK,EAAC;gBACJ,OAAO;gBACP,aAAa;YACf;YAEA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,gJAAW,CAAC,GAAG,CAAC,OAAgB,4BAA4B;gBAC1D;gBACA;gBACA,QAAQ,MAAM;YAChB;YAEA,IAAA,wIAAK,EAAC;gBACJ,SAAS;gBACT,OAAO;gBACP,aAAa;YACf;YACA,OAAO;QACT,SAAU;YACR,YAAY;QACd;IACF;IAEA,OAAO;QACL;QACA;QACA;IACF;AACF;GAhFgB;;QACoB,6IAAO;QACR,iKAAgB"}},
    {"offset": {"line": 1193, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/hooks/design/types.ts"],"sourcesContent":["\nimport { Answer } from \"@/components/design/QuestionFlow\";\n// Re-export constants from centralized location\nexport { TSHIRT_COLORS, TSHIRT_COLOR_IMAGES, TSHIRT_SIZES } from \"./constants\";\n\nexport type DesignStep = \"preferences\" | \"design\" | \"options\";\nexport type DesignStage = \"theme-selection\" | \"question-flow\" | \"customization\";\n\nexport interface Theme {\n  // Accept both number (for local themes) and string (for Supabase themes)\n  id: number | string;\n  name: string;\n  description?: string;\n  color?: string;\n  // Either string[] (local themes) or string (Supabase themes)\n  category?: string[] | string;\n  // Optional fields from Supabase\n  created_at?: string;\n  is_active?: boolean;\n  thumbnail_url?: string;\n}\n\nexport interface DesignStateData {\n  currentStep: DesignStep;\n  currentStage: DesignStage;\n  selectedTheme: Theme | null;\n  answers: Answer[];\n  showConfirmation: boolean;\n  showLoginDialog: boolean;\n  tshirtColor: string;\n  designImage?: string;\n  isSaving: boolean;\n  isGenerating: boolean;\n  designId: string | null;\n  designName: string;\n  isLoading: boolean;\n  hasUnsavedChanges: boolean;\n}\n"],"names":[],"mappings":";AAEA,gDAAgD;AAChD"}},
    {"offset": {"line": 1204, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/hooks/design/index.ts"],"sourcesContent":["\nimport { useDesignNavigation } from \"./useDesignNavigation\";\nimport { useDesignData } from \"./useDesignData\";\nimport { useDesignGeneration } from \"./useDesignGeneration\";\nimport { useDesignUI } from \"./useDesignUI\";\nimport { Theme } from \"./types\";\nimport { Answer } from \"@/components/design/QuestionFlow\";\n\nexport function useDesignState() {\n  // Use all the individual hooks\n  const navigation = useDesignNavigation();\n  // Pass the setDesignStage function to useDesignData to ensure proper stage setting when loading designs\n  const data = useDesignData(navigation.setDesignStage);\n  const generation = useDesignGeneration();\n  const ui = useDesignUI();\n\n  // Implement coordinating handler methods that connect the individual hooks\n  const handleThemeSelect = (theme: Theme) => {\n    navigation.handleThemeSelect(theme, data.setSelectedTheme);\n  };\n\n  const handleQuestionFlowComplete = (questionAnswers: Answer[]) => {\n    navigation.handleQuestionFlowComplete(questionAnswers, data.setAnswers);\n  };\n\n  const handleConfirmDesign = () => {\n    navigation.handleConfirmDesign(proceedToDesignStage);\n  };\n\n  const handleLoginSuccess = () => {\n    navigation.handleLoginSuccess(proceedToDesignStage);\n  };\n\n  const handleBackToThemes = () => {\n    navigation.handleBackToThemes(data.setSelectedTheme);\n  };\n\n  const proceedToDesignStage = async () => {\n    navigation.proceedToDesignStage(\n      data.selectedTheme,\n      data.answers,\n      generateDesignWithAI,\n      data.setDesignImage\n    );\n  };\n\n  const generateDesignWithAI = async () => {\n    await generation.generateDesignWithAI(\n      data.selectedTheme,\n      data.answers,\n      data.setDesignImage,\n      data.saveDesignToDatabase\n    );\n  };\n\n  const handleSaveDesign = async () => {\n    if (!navigation.showLoginDialog && !ui.isSaving) {\n      const success = await ui.handleSaveDesign(\n        data.designImage,\n        data.designId,\n        data.designName,\n        data.tshirtColor,\n        data.selectedTheme,\n        data.answers,\n        data.setDesignId\n      );\n      \n      if (!success && !navigation.showLoginDialog) {\n        navigation.setShowLoginDialog(true);\n      }\n    }\n  };\n\n  // Return a unified API that matches the original hook\n  return {\n    // Navigation state\n    currentStep: navigation.currentStep,\n    currentStage: navigation.currentStage,\n    \n    // Design data\n    selectedTheme: data.selectedTheme,\n    answers: data.answers,\n    designId: data.designId,\n    designName: data.designName,\n    tshirtColor: data.tshirtColor,\n    selectedSize: data.selectedSize,\n    designImage: data.designImage,\n    \n    // UI state\n    showConfirmation: navigation.showConfirmation,\n    showLoginDialog: navigation.showLoginDialog,\n    isSaving: ui.isSaving,\n    isGenerating: generation.isGenerating,\n    isLoading: data.isLoading,\n    \n    // Setters\n    setShowConfirmation: navigation.setShowConfirmation,\n    setShowLoginDialog: navigation.setShowLoginDialog,\n    setTshirtColor: data.setTshirtColor,\n    setSelectedSize: data.setSelectedSize,\n    setDesignName: data.setDesignName,\n    \n    // Handlers\n    handleThemeSelect,\n    handleQuestionFlowComplete,\n    handleConfirmDesign,\n    handleLoginSuccess,\n    handleBackToThemes,\n    handleDesignChange: data.handleDesignChange,\n    handleSaveDesign,\n    generateDesignWithAI\n  };\n}\n\n// Re-export types and constants\nexport * from \"./types\";\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AA8GA,gCAAgC;AAChC;;;;;;AA3GO,SAAS;;IACd,+BAA+B;IAC/B,MAAM,aAAa,IAAA,uKAAmB;IACtC,wGAAwG;IACxG,MAAM,OAAO,IAAA,2JAAa,EAAC,WAAW,cAAc;IACpD,MAAM,aAAa,IAAA,uKAAmB;IACtC,MAAM,KAAK,IAAA,uJAAW;IAEtB,2EAA2E;IAC3E,MAAM,oBAAoB,CAAC;QACzB,WAAW,iBAAiB,CAAC,OAAO,KAAK,gBAAgB;IAC3D;IAEA,MAAM,6BAA6B,CAAC;QAClC,WAAW,0BAA0B,CAAC,iBAAiB,KAAK,UAAU;IACxE;IAEA,MAAM,sBAAsB;QAC1B,WAAW,mBAAmB,CAAC;IACjC;IAEA,MAAM,qBAAqB;QACzB,WAAW,kBAAkB,CAAC;IAChC;IAEA,MAAM,qBAAqB;QACzB,WAAW,kBAAkB,CAAC,KAAK,gBAAgB;IACrD;IAEA,MAAM,uBAAuB;QAC3B,WAAW,oBAAoB,CAC7B,KAAK,aAAa,EAClB,KAAK,OAAO,EACZ,sBACA,KAAK,cAAc;IAEvB;IAEA,MAAM,uBAAuB;QAC3B,MAAM,WAAW,oBAAoB,CACnC,KAAK,aAAa,EAClB,KAAK,OAAO,EACZ,KAAK,cAAc,EACnB,KAAK,oBAAoB;IAE7B;IAEA,MAAM,mBAAmB;QACvB,IAAI,CAAC,WAAW,eAAe,IAAI,CAAC,GAAG,QAAQ,EAAE;YAC/C,MAAM,UAAU,MAAM,GAAG,gBAAgB,CACvC,KAAK,WAAW,EAChB,KAAK,QAAQ,EACb,KAAK,UAAU,EACf,KAAK,WAAW,EAChB,KAAK,aAAa,EAClB,KAAK,OAAO,EACZ,KAAK,WAAW;YAGlB,IAAI,CAAC,WAAW,CAAC,WAAW,eAAe,EAAE;gBAC3C,WAAW,kBAAkB,CAAC;YAChC;QACF;IACF;IAEA,sDAAsD;IACtD,OAAO;QACL,mBAAmB;QACnB,aAAa,WAAW,WAAW;QACnC,cAAc,WAAW,YAAY;QAErC,cAAc;QACd,eAAe,KAAK,aAAa;QACjC,SAAS,KAAK,OAAO;QACrB,UAAU,KAAK,QAAQ;QACvB,YAAY,KAAK,UAAU;QAC3B,aAAa,KAAK,WAAW;QAC7B,cAAc,KAAK,YAAY;QAC/B,aAAa,KAAK,WAAW;QAE7B,WAAW;QACX,kBAAkB,WAAW,gBAAgB;QAC7C,iBAAiB,WAAW,eAAe;QAC3C,UAAU,GAAG,QAAQ;QACrB,cAAc,WAAW,YAAY;QACrC,WAAW,KAAK,SAAS;QAEzB,UAAU;QACV,qBAAqB,WAAW,mBAAmB;QACnD,oBAAoB,WAAW,kBAAkB;QACjD,gBAAgB,KAAK,cAAc;QACnC,iBAAiB,KAAK,eAAe;QACrC,eAAe,KAAK,aAAa;QAEjC,WAAW;QACX;QACA;QACA;QACA;QACA;QACA,oBAAoB,KAAK,kBAAkB;QAC3C;QACA;IACF;AACF;GAxGgB;;QAEK,uKAAmB;QAEzB,2JAAa;QACP,uKAAmB;QAC3B,uJAAW"}},
    {"offset": {"line": 1323, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/LoadingSpinner.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface LoadingSpinnerProps {\n  message?: string;\n}\n\nconst LoadingSpinner = ({ message = \"Loading...\" }: LoadingSpinnerProps) => {\n  return (\n    <div className=\"flex justify-center items-center h-64\">\n      <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n      <span className=\"ml-3\">{message}</span>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n"],"names":[],"mappings":";;;;;;AAOA,MAAM,iBAAiB,CAAC,EAAE,UAAU,YAAY,EAAuB;IACrE,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBAAK,WAAU;0BAAQ;;;;;;;;;;;;AAG9B;KAPM;uCASS"}},
    {"offset": {"line": 1366, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 1473, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/ui/toggle-variants.ts"],"sourcesContent":["import { cva } from \"class-variance-authority\"\n\nexport const toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3\",\n        sm: \"h-9 px-2.5\",\n        lg: \"h-11 px-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,iBAAiB,IAAA,0KAAG,EAC/B,oXACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,SACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF"}},
    {"offset": {"line": 1503, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/ui/toggle.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"./toggle-variants\"\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAGA;AACA;;;;;;AAEA,MAAM,uBAAS,2KAAgB,MAI7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE,oBACzC,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,IAAA,kKAAc,EAAC;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;;AAIb,OAAO,WAAW,GAAG,6KAAoB,CAAC,WAAW"}},
    {"offset": {"line": 1543, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/ThemeSelector.tsx"],"sourcesContent":["\nimport { useState } from \"react\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Toggle } from \"@/components/ui/toggle\";\n\n// Define theme categories and themes\nconst categories = [\"All\", \"Artistic\", \"Minimal\", \"Nature\", \"Abstract\", \"Typography\"];\n\ninterface Theme {\n  id: number;\n  name: string;\n  description: string;\n  color: string;\n  category: string[];\n  image: string;\n}\n\nconst themes: Theme[] = [\n  { id: 1, name: \"Travel\", description: \"Capture your wanderlust\", color: \"#00BCD4\", category: [\"Artistic\"], image: \"/uploads/1fb8d5ab-666d-49a1-b349-c0a086a816fa.png\" },\n  { id: 2, name: \"Music\", description: \"Express your rhythm\", color: \"#9C27B0\", category: [\"Abstract\", \"Artistic\"], image: \"/uploads/754dd742-8aea-49d6-ac83-97af6c757084.png\" },\n  { id: 3, name: \"Vintage\", description: \"Classic retro style\", color: \"#A67C52\", category: [\"Artistic\"], image: \"/uploads/6676f311-43f9-47ee-86aa-e7bd93150976.png\" },\n  { id: 4, name: \"Nature\", description: \"Connect with the outdoors\", color: \"#8BC34A\", category: [\"Nature\"], image: \"/uploads/3de9e312-dbc0-48a8-ad72-5f348b474fb9.png\" },\n  { id: 5, name: \"Abstract\", description: \"Bold geometric patterns\", color: \"#FF1493\", category: [\"Abstract\"], image: \"/uploads/3390f772-94a3-49ac-9380-6d8e091a4c65.png\" },\n  { id: 6, name: \"Artistic\", description: \"Expressive and creative\", color: \"#00E5B2\", category: [\"Artistic\"], image: \"/uploads/0a1a3611-6080-4670-a291-9e87b4247dec.png\" },\n  { id: 7, name: \"Cyberpunk\", description: \"Futuristic neon aesthetics\", color: \"#E91E63\", category: [\"Abstract\"], image: \"/uploads/8398eed3-bd38-4e5f-9278-00f9f2ca7c7a.png\" },\n  { id: 8, name: \"Funny\", description: \"Lighthearted and humorous\", color: \"#FFC107\", category: [\"Typography\"], image: \"/uploads/a864a361-eb88-4887-ae3b-93c9731c347a.png\" }\n];\n\ninterface ThemeSelectorProps {\n  onThemeSelect: (theme: Theme) => void;\n}\n\nconst ThemeSelector = ({ onThemeSelect }: ThemeSelectorProps) => {\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\n  const [selectedThemes, setSelectedThemes] = useState<number[]>([]);\n\n  const filteredThemes = selectedCategory === \"All\"\n    ? themes\n    : themes.filter(theme => theme.category.includes(selectedCategory));\n\n  const toggleThemeSelection = (themeId: number) => {\n    if (selectedThemes.includes(themeId)) {\n      setSelectedThemes(selectedThemes.filter(id => id !== themeId));\n    } else {\n      if (selectedThemes.length < 3) {\n        setSelectedThemes([...selectedThemes, themeId]);\n      }\n    }\n  };\n\n  const isThemeSelected = (themeId: number) => selectedThemes.includes(themeId);\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"mb-8\">\n        <h2 className=\"text-2xl font-bold mb-2 flex items-center\">\n          <span className=\"inline-flex items-center justify-center w-8 h-8 mr-2 bg-blue-100 text-blue-800 rounded-full\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"></path>\n            </svg>\n          </span>\n          Choose Your Design Themes\n        </h2>\n        <p className=\"text-gray-600\">Select up to 3 themes that best match the style you're looking for.</p>\n      </div>\n\n      <div className=\"mb-6\">\n        <h3 className=\"text-sm uppercase font-semibold text-gray-500 mb-3\">FILTER BY CATEGORY</h3>\n        <div className=\"flex flex-wrap gap-2\">\n          {categories.map(category => (\n            <Toggle\n              key={category}\n              variant=\"outline\"\n              pressed={selectedCategory === category}\n              onPressedChange={() => setSelectedCategory(category)}\n              className={`rounded-full px-4 py-2 text-sm ${selectedCategory === category\n                ? 'bg-blue-50 text-blue-800 border-blue-200'\n                : 'bg-gray-50 text-gray-700'\n                }`}\n            >\n              {category}\n            </Toggle>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n        {filteredThemes.map(theme => (\n          <Card\n            key={theme.id}\n            className={`overflow-hidden cursor-pointer transition-all ${isThemeSelected(theme.id)\n              ? 'ring-2 ring-blue-600 ring-offset-2'\n              : 'hover:shadow-md'\n              }`}\n            onClick={() => toggleThemeSelection(theme.id)}\n          >\n            <div className=\"h-36 relative overflow-hidden\">\n              <img\n                src={theme.image}\n                alt={theme.name}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n            <CardContent className=\"p-4\">\n              <h3 className=\"font-medium mb-1\">{theme.name}</h3>\n              <p className=\"text-gray-600 text-sm\">{theme.description}</p>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      <div className=\"mt-8 text-right\">\n        <Button\n          onClick={() => {\n            const selected = themes.find(t => t.id === selectedThemes[0]);\n            if (selected) onThemeSelect(selected);\n          }}\n          disabled={selectedThemes.length === 0}\n          className=\"px-6\"\n        >\n          Continue\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default ThemeSelector;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1859, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/ui/radio-group.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,2BAAa,2KAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,qLAAwB;QACvB,WAAW,IAAA,4HAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;;AACA,WAAW,WAAW,GAAG,qLAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,2KAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,qLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,0LAA6B;YAAC,WAAU;sBACvC,cAAA,6LAAC,mNAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;;AACA,eAAe,WAAW,GAAG,qLAAwB,CAAC,WAAW"}},
    {"offset": {"line": 1928, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,yBAAW,2KAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1962, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/QuestionFlow.tsx"],"sourcesContent":["\nimport { useState, useEffect, useMemo } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Theme } from \"@/hooks/design/types\";\n\nexport interface Answer {\n  question: string;\n  answer: string;\n}\n\ninterface QuestionFlowProps {\n  selectedTheme: Theme;\n  onComplete: (answers: Answer[]) => void;\n  onBack: () => void;\n}\n\ninterface QuestionType {\n  id: number;\n  question: string;\n  type: \"text\" | \"radio\" | \"textarea\";\n  options?: string[];\n}\n\nconst QuestionFlow = ({ selectedTheme, onComplete, onBack }: QuestionFlowProps) => {\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [answers, setAnswers] = useState<Answer[]>([]);\n  const [currentAnswer, setCurrentAnswer] = useState(\"\");\n\n  const questions: QuestionType[] = useMemo(() => [\n    {\n      id: 1,\n      question: \"What's the main message you want on your t-shirt?\",\n      type: \"text\"\n    },\n    {\n      id: 2,\n      question: \"What style are you looking for?\",\n      type: \"radio\",\n      options: [\"Casual\", \"Formal\", \"Sporty\", \"Vintage\", \"Minimal\"]\n    },\n    {\n      id: 3,\n      question: \"What's the occasion for this t-shirt?\",\n      type: \"radio\",\n      options: [\"Everyday wear\", \"Special event\", \"Gift\", \"Team/Group\", \"Casual wear\"]\n    },\n    {\n      id: 4,\n      question: \"Any additional details you'd like to include in your design?\",\n      type: \"textarea\"\n    }\n  ], []);\n  \n  useEffect(() => {\n    // Pre-populate answers if they exist\n    const existingAnswer = answers.find(a => \n      a.question === questions[currentQuestionIndex].question\n    );\n    \n    if (existingAnswer) {\n      setCurrentAnswer(existingAnswer.answer);\n    } else {\n      setCurrentAnswer(\"\");\n    }\n  }, [currentQuestionIndex, answers, questions]);\n  \n  const saveAnswer = () => {\n    if (!currentAnswer.trim()) return; // Don't save empty answers\n    \n    const question = questions[currentQuestionIndex];\n    console.log(`Saving answer for question: ${question.question}, answer: ${currentAnswer}`);\n    \n    // Update or add the answer\n    const newAnswers = [...answers];\n    const existingIndex = answers.findIndex(a => a.question === question.question);\n    \n    if (existingIndex >= 0) {\n      newAnswers[existingIndex] = { \n        question: question.question, \n        answer: currentAnswer \n      };\n    } else {\n      newAnswers.push({ \n        question: question.question, \n        answer: currentAnswer \n      });\n    }\n    \n    setAnswers(newAnswers);\n  };\n  \n  const handleNext = () => {\n    if (!currentAnswer.trim()) {\n      // Don't proceed if answer is empty\n      return;\n    }\n    \n    saveAnswer();\n    \n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(prev => prev + 1);\n    } else {\n      // Fixed: This was causing the bug - now we save the current answer and include all answers in the onComplete callback\n      const updatedAnswers = [...answers];\n      const currentQuestion = questions[currentQuestionIndex];\n      const existingIndex = answers.findIndex(a => a.question === currentQuestion.question);\n      \n      if (existingIndex >= 0) {\n        updatedAnswers[existingIndex] = { \n          question: currentQuestion.question, \n          answer: currentAnswer \n        };\n      } else {\n        updatedAnswers.push({ \n          question: currentQuestion.question, \n          answer: currentAnswer \n        });\n      }\n      \n      console.log(\"All questions answered:\", updatedAnswers);\n      onComplete(updatedAnswers);\n    }\n  };\n  \n  const handleBack = () => {\n    if (currentAnswer.trim()) {\n      saveAnswer();\n    }\n    \n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(prev => prev - 1);\n    } else {\n      onBack();\n    }\n  };\n  \n  const currentQuestion = questions[currentQuestionIndex];\n  const progress = ((currentQuestionIndex + 1) / questions.length) * 100;\n  \n  const renderQuestionInput = () => {\n    switch (currentQuestion.type) {\n      case \"text\":\n        return (\n          <Input \n            value={currentAnswer}\n            onChange={(e) => setCurrentAnswer(e.target.value)}\n            className=\"w-full text-lg p-4 h-auto\"\n            placeholder=\"Enter your text here\"\n          />\n        );\n      case \"radio\":\n        return (\n          <RadioGroup\n            value={currentAnswer}\n            onValueChange={setCurrentAnswer}\n            className=\"space-y-3\"\n          >\n            {currentQuestion.options?.map((option) => (\n              <div key={option} className=\"flex items-center space-x-2\">\n                <RadioGroupItem value={option} id={option} />\n                <Label htmlFor={option}>{option}</Label>\n              </div>\n            ))}\n          </RadioGroup>\n        );\n      case \"textarea\":\n        return (\n          <Textarea \n            value={currentAnswer}\n            onChange={(e) => setCurrentAnswer(e.target.value)}\n            placeholder=\"Enter your details here\"\n            className=\"min-h-32\"\n          />\n        );\n      default:\n        return null;\n    }\n  };\n  \n  return (\n    <div className=\"py-6\">\n      <div className=\"mb-8\">\n        <h2 className=\"text-2xl font-bold mb-4\">Create Your T-Shirt Design</h2>\n        <p className=\"text-gray-600 mb-4\">Question {currentQuestionIndex + 1} of {questions.length}</p>\n        <Progress value={progress} className=\"h-2\" />\n      </div>\n      \n      <div className=\"mb-8\">\n        <h2 className=\"text-xl font-medium mb-6\">{currentQuestion.question}</h2>\n        {renderQuestionInput()}\n      </div>\n      \n      <div className=\"flex justify-between\">\n        <Button \n          variant=\"outline\" \n          onClick={handleBack}\n          className=\"flex items-center gap-2\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <path d=\"M15 18l-6-6 6-6\"/>\n          </svg>\n          {currentQuestionIndex === 0 ? 'Back to Themes' : 'Previous Question'}\n        </Button>\n        \n        <Button \n          onClick={handleNext}\n          disabled={!currentAnswer.trim()}\n        >\n          {currentQuestionIndex === questions.length - 1 ? 'Complete' : 'Next Question'}\n          <svg className=\"ml-2\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <path d=\"M9 18l6-6-6-6\"/>\n          </svg>\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default QuestionFlow;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2325, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/TshirtDesignPreview.tsx"],"sourcesContent":["\nimport { useState } from \"react\";\nimport { TSHIRT_COLOR_IMAGES } from \"@/hooks/design/constants\";\n\ninterface TshirtDesignPreviewProps {\n  color?: string;\n  designImage?: string;\n}\n\nconst TshirtDesignPreview = ({ color = \"#FFFFFF\", designImage }: TshirtDesignPreviewProps) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [tshirtImageError, setTshirtImageError] = useState(false);\n  const [designImageError, setDesignImageError] = useState(false);\n\n  // Get the corresponding t-shirt image for the selected color\n  const tshirtImageSrc = TSHIRT_COLOR_IMAGES[color as keyof typeof TSHIRT_COLOR_IMAGES] || TSHIRT_COLOR_IMAGES[\"#FFFFFF\"];\n\n  const handleTshirtImageLoad = () => {\n    setIsLoading(false);\n    setTshirtImageError(false);\n  };\n\n  const handleTshirtImageError = () => {\n    console.error(\"Failed to load t-shirt image:\", tshirtImageSrc);\n    setTshirtImageError(true);\n    setIsLoading(false);\n  };\n\n  const handleDesignImageError = () => {\n    console.error(\"Failed to load design image:\", designImage);\n    setDesignImageError(true);\n  };\n\n  return (\n    <div className=\"relative w-full max-w-md mx-auto\">\n      <div className=\"relative w-full aspect-[4/5]\">\n        {/* T-shirt base image */}\n        {!tshirtImageError ? (\n          <img\n            src={typeof tshirtImageSrc === 'string' ? tshirtImageSrc : (tshirtImageSrc as any).src}\n            alt={`T-shirt in ${color}`}\n            className=\"w-full h-full object-contain filter drop-shadow-lg\"\n            onLoad={handleTshirtImageLoad}\n            onError={handleTshirtImageError}\n            style={{\n              filter: 'drop-shadow(0 4px 8px rgba(0,0,0,0.1))'\n            }}\n          />\n        ) : (\n          // Enhanced fallback SVG if image fails to load\n          <div\n            className=\"w-full h-full rounded-lg shadow-lg relative flex items-center justify-center border border-gray-200\"\n            style={{ backgroundColor: color }}\n          >\n            <svg\n              className=\"w-full h-full\"\n              viewBox=\"0 0 400 500\"\n              fill=\"none\"\n              preserveAspectRatio=\"xMidYMid meet\"\n            >\n              {/* T-shirt outline */}\n              <path\n                d=\"M150 50 L100 100 L100 400 L300 400 L300 100 L250 50 L220 80 L200 90 L180 80 L150 50Z\"\n                stroke=\"#00000033\"\n                strokeWidth=\"3\"\n                fill={color}\n              />\n              {/* Left sleeve */}\n              <path\n                d=\"M100 100 L50 80 L75 150 L100 140\"\n                stroke=\"#00000033\"\n                strokeWidth=\"3\"\n                fill={color}\n              />\n              {/* Right sleeve */}\n              <path\n                d=\"M300 100 L350 80 L325 150 L300 140\"\n                stroke=\"#00000033\"\n                strokeWidth=\"3\"\n                fill={color}\n              />\n              {/* Neck opening */}\n              <ellipse\n                cx=\"200\"\n                cy=\"75\"\n                rx=\"20\"\n                ry=\"15\"\n                fill=\"none\"\n                stroke=\"#00000033\"\n                strokeWidth=\"2\"\n              />\n            </svg>\n          </div>\n        )}\n\n        {/* Design overlay positioned in the center of the t-shirt - Increased size */}\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          {/* Position the design in the center-upper area of the t-shirt with larger size */}\n          <div className=\"relative\" style={{ marginTop: '8%' }}>\n            <div className=\"w-44 h-44 flex items-center justify-center\">\n              {designImage && !designImageError ? (\n                <img\n                  src={designImage}\n                  alt=\"T-shirt design\"\n                  className=\"max-w-full max-h-full object-contain\"\n                  style={{\n                    filter: `drop-shadow(0 2px 6px rgba(0,0,0,0.15))`,\n                    borderRadius: '6px',\n                    // Blend borders with t-shirt color using box-shadow\n                    boxShadow: `inset 0 0 0 2px ${color === '#FFFFFF' ? 'rgba(255,255,255,0.8)' : color + '80'}`,\n                    background: `linear-gradient(145deg, ${color}20, transparent)`,\n                    backdropFilter: 'blur(0.5px)'\n                  }}\n                  onError={handleDesignImageError}\n                />\n              ) : (\n                <div className=\"w-36 h-36 border-2 border-dashed border-gray-400 rounded-md flex items-center justify-center bg-white/20 backdrop-blur-sm\">\n                  <span className=\"text-xs text-gray-600 text-center p-1 font-medium\">\n                    {designImage && designImageError ? \"Failed to load\" : \"Design preview\"}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Enhanced color indicator */}\n      <div className=\"mt-4 flex items-center justify-center gap-3\">\n        <div\n          className=\"w-5 h-5 rounded-full border-2 border-white shadow-lg ring-1 ring-gray-200\"\n          style={{ backgroundColor: color }}\n        />\n        <span className=\"text-sm text-gray-700 font-medium capitalize\">\n          {(() => {\n            // Import color names from constants to avoid duplication\n            const colorNames: Record<string, string> = {\n              \"#000000\": \"Black\",\n              \"#FFFFFF\": \"White\",\n              \"#DC2626\": \"Red\",\n              \"#8A898C\": \"Grey\",\n              \"#1EAEDB\": \"Blue\"\n            };\n            return colorNames[color] || \"Custom\";\n          })()}\n        </span>\n      </div>\n\n      {/* Loading overlay */}\n      {isLoading && !tshirtImageError && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-white/80 rounded-lg backdrop-blur-sm\">\n          <div className=\"flex flex-col items-center gap-3\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n            <span className=\"text-sm text-gray-600\">Loading preview...</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TshirtDesignPreview;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2590, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/PreferencesSection.tsx"],"sourcesContent":["\nimport { useState } from \"react\";\nimport ThemeSelector from \"./ThemeSelector\";\nimport QuestionFlow from \"./QuestionFlow\";\nimport TshirtDesignPreview from \"./TshirtDesignPreview\";\nimport { Theme } from \"@/hooks/useDesignState\";\nimport { Answer } from \"./QuestionFlow\";\n\ninterface PreferencesSectionProps {\n  selectedTheme: Theme | null;\n  tshirtColor: string;\n  onThemeSelect: (theme: Theme) => void;\n  onQuestionFlowComplete: (answers: Answer[]) => void;\n  onBackToThemes: () => void;\n}\n\nconst PreferencesSection = ({\n  selectedTheme,\n  tshirtColor,\n  onThemeSelect,\n  onQuestionFlowComplete,\n  onBackToThemes\n}: PreferencesSectionProps) => {\n  return (\n    <>\n      {!selectedTheme ? (\n        <ThemeSelector onThemeSelect={onThemeSelect} />\n      ) : (\n        <div className=\"flex flex-col md:flex-row md:gap-8\">\n          <div className=\"md:w-3/5\">\n            <QuestionFlow \n              selectedTheme={selectedTheme}\n              onComplete={onQuestionFlowComplete}\n              onBack={onBackToThemes}\n            />\n          </div>\n          <div className=\"md:w-2/5 mt-8 md:mt-0\">\n            <h3 className=\"text-lg font-medium mb-4 text-center\">Preview</h3>\n            <TshirtDesignPreview color={tshirtColor} />\n            \n            <div className=\"mt-4 text-center\">\n              <p className=\"text-sm text-gray-500\">\n                Complete the questions to generate your custom AI design\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default PreferencesSection;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;AAYA,MAAM,qBAAqB,CAAC,EAC1B,aAAa,EACb,WAAW,EACX,aAAa,EACb,sBAAsB,EACtB,cAAc,EACU;IACxB,qBACE;kBACG,CAAC,8BACA,6LAAC,2JAAa;YAAC,eAAe;;;;;qEAE9B,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,0JAAY;wBACX,eAAe;wBACf,YAAY;wBACZ,QAAQ;;;;;;;;;;;8BAGZ,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAuC;;;;;;sCACrD,6LAAC,iKAAmB;4BAAC,OAAO;;;;;;sCAE5B,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;;;;;;;AASnD;KAlCM;uCAoCS"}},
    {"offset": {"line": 2687, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/ui/select.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AAEA;;;;;;AAEA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,2KAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gOAAS;YAAC,WAAU;;;;;;;;;;;MAZnB;AAeN,qBAAqB,WAAW,GAAG,uLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,2KAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,sOAAW;YAAC,WAAU;;;;;;;;;;;MAZrB;AAeN,uBAAuB,WAAW,GAChC,yLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,KAAK;YACL,WAAW,IAAA,4HAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,4HAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,gNAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,2KAAgB,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,kLAAyB;QACxB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG,kLAAyB,CAAC,WAAW"}},
    {"offset": {"line": 2909, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/canvas/SimplifiedCanvas.tsx"],"sourcesContent":["import { useEffect, useRef, useState, useCallback } from \"react\";\nimport { fabric } from \"fabric\";\n\ninterface SimplifiedCanvasProps {\n  width?: number;\n  height?: number;\n  backgroundColor?: string;\n  onCanvasReady: (canvas: fabric.Canvas) => void;\n  onDesignChange?: (dataURL: string) => void;\n  initialImage?: string;\n  isDrawingMode?: boolean;\n  brushSize?: number;\n}\n\nexport const SimplifiedCanvas = ({\n  width = 300,\n  height = 300,\n  backgroundColor = \"#f0f0f0\",\n  onCanvasReady,\n  onDesignChange,\n  initialImage,\n  isDrawingMode = false,\n  brushSize = 2,\n}: SimplifiedCanvasProps) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const fabricCanvasRef = useRef<fabric.Canvas | null>(null);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const lastImageRef = useRef<string>(\"\");\n\n  // Initialize canvas once\n  useEffect(() => {\n    if (!canvasRef.current || isInitialized) return;\n\n    console.log(\"Initializing SimplifiedCanvas\");\n\n    try {\n      const canvas = new fabric.Canvas(canvasRef.current, {\n        width,\n        height,\n        backgroundColor,\n      });\n\n      // Add safety area (dashed border)\n      const safetyArea = new fabric.Rect({\n        width: width - 20,\n        height: height - 20,\n        left: 10,\n        top: 10,\n        stroke: \"#5cb85c\",\n        strokeDashArray: [5, 5],\n        fill: \"transparent\",\n        selectable: false,\n        evented: false,\n        name: \"safetyArea\",\n      } as any);\n      canvas.add(safetyArea);\n\n      // Initialize drawing brush\n      if (canvas.freeDrawingBrush) {\n        canvas.freeDrawingBrush.color = \"#000000\";\n        canvas.freeDrawingBrush.width = brushSize;\n      }\n\n      fabricCanvasRef.current = canvas as any;\n      setIsInitialized(true);\n      onCanvasReady(canvas as any);\n\n      // Handle canvas changes with debouncing\n      let timeoutId: number;\n      const handleChange = () => {\n        clearTimeout(timeoutId);\n        timeoutId = window.setTimeout(() => {\n          if (onDesignChange && canvas) {\n            const dataURL = canvas.toDataURL({\n              format: \"png\",\n              quality: 1,\n              multiplier: 2,\n            });\n            onDesignChange(dataURL);\n          }\n        }, 300);\n      };\n\n      // Add event listeners\n      canvas.on('object:modified', handleChange);\n      canvas.on('object:added', (e: any) => {\n        // Don't trigger for safety area\n        if (e.target?.name !== 'safetyArea') {\n          handleChange();\n        }\n      });\n      canvas.on('object:removed', handleChange);\n      canvas.on('path:created', handleChange);\n\n      return () => {\n        clearTimeout(timeoutId);\n        canvas.dispose();\n      };\n    } catch (error) {\n      console.error(\"Error initializing canvas:\", error);\n    }\n  }, [width, height, backgroundColor, onCanvasReady, onDesignChange, brushSize, isInitialized]);\n\n  // Handle drawing mode changes\n  useEffect(() => {\n    const canvas = fabricCanvasRef.current;\n    if (!canvas) return;\n\n    canvas.isDrawingMode = isDrawingMode;\n    if (canvas.freeDrawingBrush) {\n      canvas.freeDrawingBrush.width = brushSize;\n    }\n  }, [isDrawingMode, brushSize]);\n\n  // Load initial image\n  useEffect(() => {\n    const canvas = fabricCanvasRef.current;\n    if (!canvas || !initialImage || initialImage === lastImageRef.current) return;\n\n    console.log(\"Loading initial image:\", initialImage);\n    lastImageRef.current = initialImage;\n\n    // Remove placeholder text if exists\n    const objects = canvas.getObjects();\n    const placeholderText = objects.find(obj => (obj as any).name === \"placeholderText\");\n    if (placeholderText) {\n      canvas.remove(placeholderText);\n    }\n\n    // Load and add the image\n    fabric.Image.fromURL(initialImage, (img) => {\n      if (!canvas) return;\n\n      // Scale image to fit canvas\n      const scale = Math.min(\n        (width - 40) / (img.width || 1),\n        (height - 40) / (img.height || 1)\n      );\n\n      img.set({\n        left: width / 2,\n        top: height / 2,\n        originX: 'center',\n        originY: 'center',\n        scaleX: scale,\n        scaleY: scale,\n        name: \"mainImage\"\n      } as any);\n\n      canvas.add(img as any);\n      canvas.bringToFront(img as any);\n\n      // Keep safety area at back\n      const safetyArea = canvas.getObjects().find(obj => (obj as any).name === \"safetyArea\");\n      if (safetyArea) {\n        canvas.sendToBack(safetyArea);\n      }\n\n      canvas.renderAll();\n\n      // Trigger design change\n      if (onDesignChange) {\n        const dataURL = canvas.toDataURL({\n          format: \"png\",\n          quality: 1,\n          multiplier: 2,\n        });\n        onDesignChange(dataURL);\n      }\n    }, { crossOrigin: 'anonymous' });\n  }, [initialImage, width, height, onDesignChange]);\n\n  // Add placeholder text if no initial image\n  useEffect(() => {\n    const canvas = fabricCanvasRef.current;\n    if (!canvas || initialImage) return;\n\n    const placeholderText = new fabric.Text(\"Upload your design\", {\n      left: width / 2,\n      top: height / 2,\n      originX: 'center',\n      originY: 'center',\n      fontFamily: 'Arial',\n      fontSize: 18,\n      fill: '#999999',\n      selectable: false,\n      evented: false,\n      name: \"placeholderText\",\n    } as any);\n    canvas.add(placeholderText as any);\n    canvas.renderAll();\n  }, [width, height, initialImage]);\n\n  return <canvas ref={canvasRef} className=\"border border-gray-200 rounded-lg\" />;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3131, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/ui/slider.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;0BAET,6LAAC,8KAAqB;gBAAC,WAAU;0BAC/B,cAAA,6LAAC,8KAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,6LAAC,8KAAqB;gBAAC,WAAU;;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,6KAAoB,CAAC,WAAW"}},
    {"offset": {"line": 3188, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/canvas/CanvasToolbar.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { fabric } from \"fabric\";\nimport { Button } from \"@/components/ui/button\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Input } from \"@/components/ui/input\";\n\ninterface CanvasToolbarProps {\n  canvas: fabric.Canvas | null;\n  isDrawingMode: boolean;\n  onDrawingModeChange: (mode: boolean) => void;\n  brushSize: number;\n  onBrushSizeChange: (size: number) => void;\n}\n\nexport const CanvasToolbar = ({\n  canvas,\n  isDrawingMode,\n  onDrawingModeChange,\n  brushSize,\n  onBrushSizeChange,\n}: CanvasToolbarProps) => {\n  const [textInput, setTextInput] = useState(\"Sample Text\");\n  const [selectedColor, setSelectedColor] = useState(\"#000000\");\n\n  const addText = () => {\n    if (!canvas) return;\n\n    const fabricText = new fabric.Text(textInput, {\n      left: 150,\n      top: 100,\n      fontFamily: 'Arial',\n      fontSize: 20,\n      fill: selectedColor,\n      name: \"userText\"\n    } as any);\n\n    canvas.add(fabricText as any);\n    canvas.setActiveObject(fabricText as any);\n    canvas.renderAll();\n  };\n\n  const addRectangle = () => {\n    if (!canvas) return;\n\n    const rect = new fabric.Rect({\n      left: 100,\n      top: 100,\n      fill: selectedColor,\n      width: 80,\n      height: 60,\n      name: \"userShape\"\n    } as any);\n\n    canvas.add(rect as any);\n    canvas.setActiveObject(rect as any);\n    canvas.renderAll();\n  };\n\n  const addCircle = () => {\n    if (!canvas) return;\n\n    const circle = new fabric.Circle({\n      left: 100,\n      top: 100,\n      fill: selectedColor,\n      radius: 40,\n      name: \"userShape\"\n    } as any);\n\n    canvas.add(circle as any);\n    canvas.setActiveObject(circle as any);\n    canvas.renderAll();\n  };\n\n  const deleteSelected = () => {\n    if (!canvas) return;\n\n    const activeObject = canvas.getActiveObject();\n    if (activeObject && activeObject.name !== \"safetyArea\" && activeObject.name !== \"mainImage\") {\n      canvas.remove(activeObject);\n      canvas.renderAll();\n    }\n  };\n\n  const clearCanvas = () => {\n    if (!canvas) return;\n\n    const objects = canvas.getObjects();\n    objects.forEach(obj => {\n      if (obj.name !== \"safetyArea\" && obj.name !== \"mainImage\") {\n        canvas.remove(obj);\n      }\n    });\n    canvas.renderAll();\n  };\n\n  const updateSelectedColor = () => {\n    if (!canvas) return;\n\n    const activeObject = canvas.getActiveObject();\n    if (activeObject && activeObject.name !== \"safetyArea\" && activeObject.name !== \"mainImage\") {\n      activeObject.set('fill', selectedColor);\n      canvas.renderAll();\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col gap-4 p-4 bg-gray-50 rounded-lg\">\n      {/* Drawing Tools */}\n      <div className=\"flex flex-wrap gap-2\">\n        <Button\n          variant={isDrawingMode ? \"default\" : \"outline\"}\n          size=\"sm\"\n          onClick={() => onDrawingModeChange(!isDrawingMode)}\n        >\n          {isDrawingMode ? \"Exit Draw\" : \"Draw\"}\n        </Button>\n\n        <Button variant=\"outline\" size=\"sm\" onClick={addText}>\n          Add Text\n        </Button>\n\n        <Button variant=\"outline\" size=\"sm\" onClick={addRectangle}>\n          Rectangle\n        </Button>\n\n        <Button variant=\"outline\" size=\"sm\" onClick={addCircle}>\n          Circle\n        </Button>\n\n        <Button variant=\"destructive\" size=\"sm\" onClick={deleteSelected}>\n          Delete\n        </Button>\n\n        <Button variant=\"secondary\" size=\"sm\" onClick={clearCanvas}>\n          Clear All\n        </Button>\n      </div>\n\n      {/* Color Picker */}\n      <div className=\"flex items-center gap-2\">\n        <label className=\"text-sm font-medium\">Color:</label>\n        <input\n          type=\"color\"\n          value={selectedColor}\n          onChange={(e) => setSelectedColor(e.target.value)}\n          className=\"w-8 h-8 rounded border\"\n        />\n        <Button variant=\"outline\" size=\"sm\" onClick={updateSelectedColor}>\n          Apply Color\n        </Button>\n      </div>\n\n      {/* Text Input */}\n      <div className=\"flex items-center gap-2\">\n        <label className=\"text-sm font-medium\">Text:</label>\n        <Input\n          value={textInput}\n          onChange={(e) => setTextInput(e.target.value)}\n          placeholder=\"Enter text...\"\n          className=\"flex-1\"\n        />\n      </div>\n\n      {/* Brush Size for Drawing */}\n      {isDrawingMode && (\n        <div className=\"flex items-center gap-2\">\n          <label className=\"text-sm font-medium\">Brush Size:</label>\n          <Slider\n            value={[brushSize]}\n            onValueChange={(values) => onBrushSizeChange(values[0])}\n            max={20}\n            min={1}\n            step={1}\n            className=\"flex-1\"\n          />\n          <span className=\"text-sm text-gray-500\">{brushSize}px</span>\n        </div>\n      )}\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3472, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/canvas/ModernCanvasManager.tsx"],"sourcesContent":["import { useRef, useState, useCallback } from \"react\";\nimport { fabric } from \"fabric\";\nimport { SimplifiedCanvas } from \"./SimplifiedCanvas\";\nimport { CanvasToolbar } from \"./CanvasToolbar\";\n\ninterface ModernCanvasManagerProps {\n  tshirtColor: string;\n  initialImage?: string;\n  onDesignChange?: (dataURL: string) => void;\n}\n\nexport const ModernCanvasManager = ({ \n  tshirtColor, \n  initialImage, \n  onDesignChange \n}: ModernCanvasManagerProps) => {\n  const canvasRef = useRef<fabric.Canvas | null>(null);\n  const [isDrawingMode, setIsDrawingMode] = useState(false);\n  const [brushSize, setBrushSize] = useState(2);\n\n  const handleCanvasReady = useCallback((canvas: fabric.Canvas) => {\n    console.log(\"Canvas ready in ModernCanvasManager\");\n    canvasRef.current = canvas;\n  }, []);\n\n  const handleDesignChange = useCallback((dataURL: string) => {\n    console.log(\"Design changed, notifying parent\");\n    if (onDesignChange) {\n      onDesignChange(dataURL);\n    }\n  }, [onDesignChange]);\n\n  const handleDrawingModeChange = useCallback((mode: boolean) => {\n    setIsDrawingMode(mode);\n  }, []);\n\n  const handleBrushSizeChange = useCallback((size: number) => {\n    setBrushSize(size);\n  }, []);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      {/* Canvas */}\n      <div className=\"flex justify-center\">\n        <SimplifiedCanvas\n          width={300}\n          height={300}\n          backgroundColor=\"#f8f9fa\"\n          onCanvasReady={handleCanvasReady}\n          onDesignChange={handleDesignChange}\n          initialImage={initialImage}\n          isDrawingMode={isDrawingMode}\n          brushSize={brushSize}\n        />\n      </div>\n\n      {/* Toolbar */}\n      <CanvasToolbar\n        canvas={canvasRef.current}\n        isDrawingMode={isDrawingMode}\n        onDrawingModeChange={handleDrawingModeChange}\n        brushSize={brushSize}\n        onBrushSizeChange={handleBrushSizeChange}\n      />\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;;;;;;AAQO,MAAM,sBAAsB,CAAC,EAClC,WAAW,EACX,YAAY,EACZ,cAAc,EACW;;IACzB,MAAM,YAAY,IAAA,uKAAM,EAAuB;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,oBAAoB,IAAA,4KAAW;8DAAC,CAAC;YACrC,QAAQ,GAAG,CAAC;YACZ,UAAU,OAAO,GAAG;QACtB;6DAAG,EAAE;IAEL,MAAM,qBAAqB,IAAA,4KAAW;+DAAC,CAAC;YACtC,QAAQ,GAAG,CAAC;YACZ,IAAI,gBAAgB;gBAClB,eAAe;YACjB;QACF;8DAAG;QAAC;KAAe;IAEnB,MAAM,0BAA0B,IAAA,4KAAW;oEAAC,CAAC;YAC3C,iBAAiB;QACnB;mEAAG,EAAE;IAEL,MAAM,wBAAwB,IAAA,4KAAW;kEAAC,CAAC;YACzC,aAAa;QACf;iEAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,iLAAgB;oBACf,OAAO;oBACP,QAAQ;oBACR,iBAAgB;oBAChB,eAAe;oBACf,gBAAgB;oBAChB,cAAc;oBACd,eAAe;oBACf,WAAW;;;;;;;;;;;0BAKf,6LAAC,2KAAa;gBACZ,QAAQ,UAAU,OAAO;gBACzB,eAAe;gBACf,qBAAqB;gBACrB,WAAW;gBACX,mBAAmB;;;;;;;;;;;;AAI3B;GAvDa;KAAA"}},
    {"offset": {"line": 3569, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/error/ErrorBoundary.tsx"],"sourcesContent":["\nimport React, { Component, ReactNode } from 'react';\nimport { ErrorLogger } from '@/services/ErrorLogger';\nimport { Button } from '@/components/ui/button';\nimport { RefreshCw, AlertTriangle } from 'lucide-react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  context: string;\n}\n\ninterface State {\n  hasError: boolean;\n  error?: Error;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    ErrorLogger.log(error, `ErrorBoundary:${this.props.context}`, {\n      componentStack: errorInfo.componentStack,\n      errorBoundary: this.props.context\n    });\n  }\n\n  handleRetry = () => {\n    this.setState({ hasError: false, error: undefined });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <div className=\"flex flex-col items-center justify-center p-8 text-center\">\n          <AlertTriangle className=\"h-12 w-12 text-red-500 mb-4\" />\n          <h2 className=\"text-xl font-semibold mb-2\">Something went wrong</h2>\n          <p className=\"text-gray-600 mb-4\">\n            An error occurred in the {this.props.context} component.\n          </p>\n          <Button onClick={this.handleRetry} className=\"flex items-center gap-2\">\n            <RefreshCw className=\"h-4 w-4\" />\n            Try Again\n          </Button>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;;;;;;AAaO,MAAM,sBAAsB,0KAAS;IAC1C,YAAY,KAAY,CAAE;QACxB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;QAAM;IACjC;IAEA,OAAO,yBAAyB,KAAY,EAAS;QACnD,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEA,kBAAkB,KAAY,EAAE,SAA0B,EAAE;QAC1D,gJAAW,CAAC,GAAG,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,EAAE;YAC5D,gBAAgB,UAAU,cAAc;YACxC,eAAe,IAAI,CAAC,KAAK,CAAC,OAAO;QACnC;IACF;IAEA,cAAc;QACZ,IAAI,CAAC,QAAQ,CAAC;YAAE,UAAU;YAAO,OAAO;QAAU;IACpD,EAAE;IAEF,SAAS;QACP,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC5B;YAEA,qBACE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,4OAAa;wBAAC,WAAU;;;;;;kCACzB,6LAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,6LAAC;wBAAE,WAAU;;4BAAqB;4BACN,IAAI,CAAC,KAAK,CAAC,OAAO;4BAAC;;;;;;;kCAE/C,6LAAC,+IAAM;wBAAC,SAAS,IAAI,CAAC,WAAW;wBAAE,WAAU;;0CAC3C,6LAAC,gOAAS;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;QAKzC;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF"}},
    {"offset": {"line": 3679, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/error/CanvasErrorBoundary.tsx"],"sourcesContent":["\nimport React, { ReactNode } from 'react';\nimport { ErrorBoundary } from './ErrorBoundary';\nimport { Button } from '@/components/ui/button';\nimport { RefreshCw, AlertCircle } from 'lucide-react';\n\ninterface CanvasErrorBoundaryProps {\n  children: ReactNode;\n  onRetry?: () => void;\n}\n\nconst CanvasErrorFallback = ({ onRetry }: { onRetry?: () => void }) => {\n  return (\n    <div className=\"flex flex-col items-center justify-center h-64 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n      <AlertCircle className=\"h-8 w-8 text-orange-500 mb-2\" />\n      <h3 className=\"font-medium text-gray-800 mb-1\">Canvas Error</h3>\n      <p className=\"text-sm text-gray-600 mb-3 text-center\">\n        The design canvas failed to load properly.\n      </p>\n      <Button \n        onClick={onRetry || (() => window.location.reload())} \n        size=\"sm\"\n        className=\"flex items-center gap-2\"\n      >\n        <RefreshCw className=\"h-4 w-4\" />\n        Retry\n      </Button>\n    </div>\n  );\n};\n\nexport const CanvasErrorBoundary = ({ children, onRetry }: CanvasErrorBoundaryProps) => {\n  return (\n    <ErrorBoundary context=\"Canvas\" fallback={<CanvasErrorFallback onRetry={onRetry} />}>\n      {children}\n    </ErrorBoundary>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;;;;;AAOA,MAAM,sBAAsB,CAAC,EAAE,OAAO,EAA4B;IAChE,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,sOAAW;gBAAC,WAAU;;;;;;0BACvB,6LAAC;gBAAG,WAAU;0BAAiC;;;;;;0BAC/C,6LAAC;gBAAE,WAAU;0BAAyC;;;;;;0BAGtD,6LAAC,+IAAM;gBACL,SAAS,WAAW,CAAC,IAAM,OAAO,QAAQ,CAAC,MAAM,EAAE;gBACnD,MAAK;gBACL,WAAU;;kCAEV,6LAAC,gOAAS;wBAAC,WAAU;;;;;;oBAAY;;;;;;;;;;;;;AAKzC;KAlBM;AAoBC,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAAE,OAAO,EAA4B;IACjF,qBACE,6LAAC,gKAAa;QAAC,SAAQ;QAAS,wBAAU,6LAAC;YAAoB,SAAS;;;;;;kBACrE;;;;;;AAGP;MANa"}},
    {"offset": {"line": 3774, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/AddToCartButton.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { ShoppingCart } from \"lucide-react\";\nimport { useUser } from \"@/contexts/UserContext\";\nimport { useCart } from \"@/contexts/CartContext\";\nimport { toast } from \"@/components/ui/toast\";\nimport { Answer } from \"./QuestionFlow\";\n\ninterface AddToCartButtonProps {\n  designImage?: string;\n  tshirtColor: string;\n  selectedSize?: string;\n  designName: string;\n  answers: Answer[];\n  onSaveDesign?: () => void;\n}\n\nconst AddToCartButton = ({\n  designImage,\n  tshirtColor,\n  selectedSize = \"M\",\n  designName,\n  answers,\n  onSaveDesign\n}: AddToCartButtonProps) => {\n  const { isAuthenticated } = useUser();\n  const { addCustomDesignToCart } = useCart();\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const handleAddToCart = async () => {\n    if (!designImage) {\n      toast.error(\"Please create a design first\");\n      return;\n    }\n\n    if (!isAuthenticated) {\n      toast.error(\"Please login to add items to cart\");\n      return;\n    }\n\n    setIsProcessing(true);\n\n    try {\n      // First save the design\n      if (onSaveDesign) {\n        await onSaveDesign();\n      }\n\n      // Add custom design to cart\n      const customDesign = {\n        design_name: designName || \"Custom Design\",\n        design_image: designImage,\n        tshirt_color: tshirtColor,\n        selected_size: selectedSize,\n        base_price: 2499, // Updated to INR pricing\n        theme_name: answers.find(a => a.question?.includes(\"theme\"))?.answer || \"Custom\",\n        answers: answers,\n        design_data: {} // Canvas data would be added here in real implementation\n      };\n\n      await addCustomDesignToCart(customDesign);\n      \n      toast.success(\"Design added to cart!\");\n\n    } catch (error) {\n      console.error(\"Error adding to cart:\", error);\n      toast.error(\"Failed to add to cart. Please try again.\");\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <Button \n      onClick={handleAddToCart}\n      disabled={isProcessing || !designImage}\n      className=\"w-full flex items-center justify-center gap-2\"\n      variant=\"outline\"\n    >\n      <ShoppingCart className=\"h-4 w-4\" />\n      {isProcessing ? \"Adding...\" : \"Add to Cart\"}\n    </Button>\n  );\n};\n\nexport default AddToCartButton;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAYA,MAAM,kBAAkB,CAAC,EACvB,WAAW,EACX,WAAW,EACX,eAAe,GAAG,EAClB,UAAU,EACV,OAAO,EACP,YAAY,EACS;;IACrB,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,6IAAO;IACnC,MAAM,EAAE,qBAAqB,EAAE,GAAG,IAAA,6IAAO;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,MAAM,kBAAkB;QACtB,IAAI,CAAC,aAAa;YAChB,6IAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,IAAI,CAAC,iBAAiB;YACpB,6IAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,gBAAgB;QAEhB,IAAI;YACF,wBAAwB;YACxB,IAAI,cAAc;gBAChB,MAAM;YACR;YAEA,4BAA4B;YAC5B,MAAM,eAAe;gBACnB,aAAa,cAAc;gBAC3B,cAAc;gBACd,cAAc;gBACd,eAAe;gBACf,YAAY;gBACZ,YAAY,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,EAAE,SAAS,WAAW,UAAU;gBACxE,SAAS;gBACT,aAAa,CAAC,EAAE,yDAAyD;YAC3E;YAEA,MAAM,sBAAsB;YAE5B,6IAAK,CAAC,OAAO,CAAC;QAEhB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,6IAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,qBACE,6LAAC,+IAAM;QACL,SAAS;QACT,UAAU,gBAAgB,CAAC;QAC3B,WAAU;QACV,SAAQ;;0BAER,6LAAC,yOAAY;gBAAC,WAAU;;;;;;YACvB,eAAe,cAAc;;;;;;;AAGpC;GAlEM;;QAQwB,6IAAO;QACD,6IAAO;;;KATrC;uCAoES"}},
    {"offset": {"line": 3871, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/PlaceOrderButton.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { ShoppingCart, CreditCard } from \"lucide-react\";\nimport { useUser } from \"@/contexts/UserContext\";\nimport { useCart } from \"@/contexts/CartContext\";\nimport { useRouter } from \"next/navigation\";\nimport { toast } from \"@/components/ui/toast\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Answer } from \"./QuestionFlow\";\n\ninterface PlaceOrderButtonProps {\n  designImage?: string;\n  tshirtColor: string;\n  selectedSize?: string;\n  designName: string;\n  answers: Answer[];\n  onSaveDesign?: () => void;\n}\n\nconst PlaceOrderButton = ({\n  designImage,\n  tshirtColor,\n  selectedSize = \"M\",\n  designName,\n  answers,\n  onSaveDesign\n}: PlaceOrderButtonProps) => {\n  const { isAuthenticated } = useUser();\n  const { addCustomDesignToCart } = useCart();\n  const router = useRouter();\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const handlePlaceOrder = async () => {\n    if (!designImage) {\n      toast.error(\"Please create a design first\");\n      return;\n    }\n\n    if (!isAuthenticated) {\n      toast.error(\"Please login to place an order\");\n      return;\n    }\n\n    setIsProcessing(true);\n\n    try {\n      // First save the design\n      if (onSaveDesign) {\n        await onSaveDesign();\n      }\n\n      // Add to cart as custom design\n      const customDesign = {\n        design_name: designName || \"Custom Design\",\n        design_image: designImage,\n        tshirt_color: tshirtColor,\n        selected_size: selectedSize,\n        base_price: 2499, // Updated to INR pricing\n        theme_name: answers.find(a => a.question.includes(\"theme\"))?.answer || \"Custom\",\n        answers: answers,\n        design_data: {} // Canvas data would be added here in real implementation\n      };\n\n      await addCustomDesignToCart(customDesign);\n\n      toast.success(\"Design added to cart! Redirecting to checkout...\");\n\n      // Navigate to checkout\n      setTimeout(() => {\n        router.push(\"/checkout\");\n      }, 1500);\n\n    } catch (error) {\n      console.error(\"Error placing order:\", error);\n      toast.error(\"Failed to place order. Please try again.\");\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <div className=\"flex gap-3\">\n      <Button\n        onClick={handlePlaceOrder}\n        disabled={isProcessing || !designImage}\n        className=\"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700\"\n        size=\"lg\"\n      >\n        <CreditCard className=\"h-5 w-5\" />\n        {isProcessing ? \"Processing...\" : \"Place Order\"}\n      </Button>\n    </div>\n  );\n};\n\nexport default PlaceOrderButton;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAaA,MAAM,mBAAmB,CAAC,EACxB,WAAW,EACX,WAAW,EACX,eAAe,GAAG,EAClB,UAAU,EACV,OAAO,EACP,YAAY,EACU;;IACtB,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,6IAAO;IACnC,MAAM,EAAE,qBAAqB,EAAE,GAAG,IAAA,6IAAO;IACzC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,MAAM,mBAAmB;QACvB,IAAI,CAAC,aAAa;YAChB,6IAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,IAAI,CAAC,iBAAiB;YACpB,6IAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,gBAAgB;QAEhB,IAAI;YACF,wBAAwB;YACxB,IAAI,cAAc;gBAChB,MAAM;YACR;YAEA,+BAA+B;YAC/B,MAAM,eAAe;gBACnB,aAAa,cAAc;gBAC3B,cAAc;gBACd,cAAc;gBACd,eAAe;gBACf,YAAY;gBACZ,YAAY,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,WAAW,UAAU;gBACvE,SAAS;gBACT,aAAa,CAAC,EAAE,yDAAyD;YAC3E;YAEA,MAAM,sBAAsB;YAE5B,6IAAK,CAAC,OAAO,CAAC;YAEd,uBAAuB;YACvB,WAAW;gBACT,OAAO,IAAI,CAAC;YACd,GAAG;QAEL,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,6IAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,+IAAM;YACL,SAAS;YACT,UAAU,gBAAgB,CAAC;YAC3B,WAAU;YACV,MAAK;;8BAEL,6LAAC,mOAAU;oBAAC,WAAU;;;;;;gBACrB,eAAe,kBAAkB;;;;;;;;;;;;AAI1C;GA1EM;;QAQwB,6IAAO;QACD,6IAAO;QAC1B,kJAAS;;;KAVpB;uCA4ES"}},
    {"offset": {"line": 3983, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/design/CustomizationSection.tsx"],"sourcesContent":["\nimport React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport TshirtDesignPreview from \"./TshirtDesignPreview\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Save, Loader2 } from \"lucide-react\";\nimport { Answer } from \"./QuestionFlow\";\nimport { ModernCanvasManager } from \"./canvas/ModernCanvasManager\";\nimport { CanvasErrorBoundary } from \"@/components/error/CanvasErrorBoundary\";\nimport { ErrorBoundary } from \"@/components/error/ErrorBoundary\";\nimport AddToCartButton from \"./AddToCartButton\";\nimport PlaceOrderButton from \"./PlaceOrderButton\";\n\ninterface CustomizationSectionProps {\n  answers: Answer[];\n  tshirtColor: string;\n  designImage?: string;\n  isSaving: boolean;\n  isGenerating?: boolean;\n  tshirtColors: Record<string, string>;\n  designName: string;\n  selectedSize?: string;\n  onDesignNameChange?: (name: string) => void;\n  onColorChange: (color: string) => void;\n  onSizeChange?: (size: string) => void;\n  onDesignChange: (designDataUrl: string) => void;\n  onSaveDesign: () => void;\n}\n\nconst CustomizationSection = ({\n  answers,\n  tshirtColor,\n  designImage,\n  isSaving,\n  isGenerating,\n  tshirtColors,\n  designName,\n  selectedSize = \"M\",\n  onDesignNameChange,\n  onColorChange,\n  onSizeChange,\n  onDesignChange,\n  onSaveDesign\n}: CustomizationSectionProps) => {\n  // Use centralized color definitions\n  const tshirtColorOptions = Object.entries(tshirtColors).map(([name, value]) => ({\n    name: name.charAt(0) + name.slice(1).toLowerCase(),\n    value\n  }));\n\n  // Import sizes from constants\n  const tshirtSizes = [\n    { name: \"XS\", value: \"XS\" },\n    { name: \"S\", value: \"S\" },\n    { name: \"M\", value: \"M\" },\n    { name: \"L\", value: \"L\" },\n    { name: \"XL\", value: \"XL\" },\n    { name: \"XXL\", value: \"XXL\" }\n  ];\n\n  // Debounced design name change to prevent excessive logging\n  const handleDesignNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (onDesignNameChange) {\n      onDesignNameChange(e.target.value);\n    }\n  };\n\n  // Handle design changes from canvas and sync with preview\n  const handleCanvasDesignChange = (designDataUrl: string) => {\n    console.log(\"ðŸŽ¨ Design change from canvas:\", designDataUrl.slice(0, 50) + \"...\");\n    onDesignChange(designDataUrl);\n  };\n\n  return (\n    <div className=\"py-6\">\n      {/* Design Name at Top Left */}\n      <div className=\"mb-6\">\n        <Input\n          id=\"design-name\"\n          placeholder=\"My Awesome Design\"\n          value={designName}\n          onChange={handleDesignNameChange}\n          className=\"text-lg font-medium w-full max-w-xs\"\n          disabled={isGenerating}\n        />\n      </div>\n\n      <div className=\"flex flex-col space-y-8\">\n        {/* Top Section: Design Canvas and Preview side by side */}\n        <div className=\"flex flex-col lg:flex-row lg:gap-6\">\n          {/* Design Tools & Canvas - Left Side */}\n          <div className=\"w-full lg:w-1/2 mb-6 lg:mb-0\">\n            <div className=\"bg-white rounded-lg p-4 shadow-sm\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"font-medium text-lg\">Design Tools</h3>\n                \n                {/* T-shirt Color and Size Selection */}\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"flex items-center\">\n                    <label className=\"text-sm font-medium text-gray-700 mr-2\">\n                      T-Shirt Color:\n                    </label>\n                    <Select\n                      value={tshirtColor}\n                      onValueChange={onColorChange}\n                      disabled={isGenerating}\n                    >\n                      <SelectTrigger className=\"bg-white w-36\">\n                        <SelectValue placeholder=\"Select a color\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {tshirtColorOptions.map(option => (\n                          <SelectItem key={option.name} value={option.value}>\n                            <div className=\"flex items-center\">\n                              <div \n                                className=\"w-4 h-4 rounded-full mr-2 border border-gray-300\" \n                                style={{ backgroundColor: option.value }}\n                              />\n                              {option.name}\n                            </div>\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  {/* T-shirt Size Selection */}\n                  <div className=\"flex items-center\">\n                    <label className=\"text-sm font-medium text-gray-700 mr-2\">\n                      Size:\n                    </label>\n                    <Select\n                      value={selectedSize}\n                      onValueChange={onSizeChange}\n                      disabled={isGenerating}\n                    >\n                      <SelectTrigger className=\"bg-white w-24\">\n                        <SelectValue placeholder=\"Select size\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {tshirtSizes.map(size => (\n                          <SelectItem key={size.value} value={size.value}>\n                            {size.name}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Design Canvas Tools with Error Boundary */}\n              <div className=\"mb-4\">\n                <CanvasErrorBoundary>\n                  <ModernCanvasManager \n                    tshirtColor={tshirtColor} \n                    onDesignChange={handleCanvasDesignChange}\n                    initialImage={designImage}\n                  />\n                </CanvasErrorBoundary>\n              </div>\n            </div>\n          </div>\n          \n          {/* Design Preview - Right Side */}\n          <div className=\"w-full lg:w-1/2\">\n            <div className=\"bg-white rounded-lg p-4 shadow-sm h-full\">\n              <h3 className=\"font-medium text-lg mb-4\">T-Shirt Preview</h3>\n              <div className=\"relative flex items-center justify-center\">\n                <ErrorBoundary context=\"TshirtPreview\">\n                  <TshirtDesignPreview \n                    color={tshirtColor} \n                    designImage={designImage}\n                  />\n                </ErrorBoundary>\n\n                {isGenerating && (\n                  <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-white/80 rounded-lg\">\n                    <Loader2 className=\"h-12 w-12 animate-spin text-blue-600\" />\n                    <p className=\"mt-4 text-blue-800 font-medium\">Generating your design...</p>\n                    <p className=\"text-sm text-gray-500 mt-2\">This may take a few moments</p>\n                  </div>\n                )}\n              </div>\n              \n              {/* Action Buttons - Below Preview */}\n              <div className=\"mt-6 space-y-3\">\n                <Button \n                  onClick={onSaveDesign}\n                  disabled={isSaving || !designImage || isGenerating}\n                  className=\"w-full flex items-center justify-center gap-2\"\n                  variant=\"outline\"\n                >\n                  {isSaving ? (\n                    <>\n                      <Loader2 className=\"h-4 w-4 animate-spin\" />\n                      Saving...\n                    </>\n                  ) : (\n                    <>\n                      <Save className=\"h-4 w-4\" />\n                      Save Design\n                    </>\n                  )}\n                </Button>\n\n                <AddToCartButton \n                  designImage={designImage}\n                  tshirtColor={tshirtColor}\n                  selectedSize={selectedSize}\n                  designName={designName}\n                  answers={answers}\n                  onSaveDesign={onSaveDesign}\n                />\n\n                <PlaceOrderButton \n                  designImage={designImage}\n                  tshirtColor={tshirtColor}\n                  selectedSize={selectedSize}\n                  designName={designName}\n                  answers={answers}\n                  onSaveDesign={onSaveDesign}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Design Preferences - Below Main Content */}\n        <div className=\"bg-white rounded-lg p-4 shadow-sm\">\n          <h3 className=\"font-medium text-lg mb-4\">Design Preferences</h3>\n          <div className=\"border rounded-md p-3 bg-gray-50\">\n            {answers.length > 0 ? (\n              answers.map((answer, index) => (\n                <div key={index} className=\"py-2\">\n                  <p className=\"text-sm font-medium\">{answer.question}</p>\n                  <p className=\"text-sm text-gray-600\">{answer.answer}</p>\n                  {index < answers.length - 1 && <Separator className=\"my-2\" />}\n                </div>\n              ))\n            ) : (\n              <p className=\"text-sm text-gray-500\">No design preferences set.</p>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CustomizationSection;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4518, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/src/components/error/DesignErrorBoundary.tsx"],"sourcesContent":["\nimport React, { ReactNode } from 'react';\nimport { ErrorBoundary } from './ErrorBoundary';\nimport { Button } from '@/components/ui/button';\nimport { Home, RefreshCw } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\n\ninterface DesignErrorBoundaryProps {\n  children: ReactNode;\n}\n\nconst DesignErrorFallback = () => {\n  const router = useRouter();\n\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-[400px] p-8 text-center\">\n      <div className=\"bg-red-50 rounded-lg p-6 max-w-md\">\n        <h2 className=\"text-xl font-semibold text-red-800 mb-2\">\n          Design Tool Error\n        </h2>\n        <p className=\"text-red-600 mb-4\">\n          There was an issue with the design interface. This might be due to a canvas rendering problem or data loading issue.\n        </p>\n        <div className=\"flex gap-2 justify-center\">\n          <Button\n            onClick={() => window.location.reload()}\n            variant=\"outline\"\n            className=\"flex items-center gap-2\"\n          >\n            <RefreshCw className=\"h-4 w-4\" />\n            Reload Page\n          </Button>\n          <Button\n            onClick={() => router.push('/')}\n            className=\"flex items-center gap-2\"\n          >\n            <Home className=\"h-4 w-4\" />\n            Go Home\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const DesignErrorBoundary = ({ children }: DesignErrorBoundaryProps) => {\n  return (\n    <ErrorBoundary context=\"Design\" fallback={<DesignErrorFallback />}>\n      {children}\n    </ErrorBoundary>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;;;;;;;AAMA,MAAM,sBAAsB;;IAC1B,MAAM,SAAS,IAAA,kJAAS;IAExB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAA0C;;;;;;8BAGxD,6LAAC;oBAAE,WAAU;8BAAoB;;;;;;8BAGjC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,+IAAM;4BACL,SAAS,IAAM,OAAO,QAAQ,CAAC,MAAM;4BACrC,SAAQ;4BACR,WAAU;;8CAEV,6LAAC,gOAAS;oCAAC,WAAU;;;;;;gCAAY;;;;;;;sCAGnC,6LAAC,+IAAM;4BACL,SAAS,IAAM,OAAO,IAAI,CAAC;4BAC3B,WAAU;;8CAEV,6LAAC,8MAAI;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;;;;;;;AAOxC;GAhCM;;QACW,kJAAS;;;KADpB;AAkCC,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAA4B;IACxE,qBACE,6LAAC,gKAAa;QAAC,SAAQ;QAAS,wBAAU,6LAAC;;;;;kBACxC;;;;;;AAGP;MANa"}},
    {"offset": {"line": 4648, "column": 0}, "map": {"version":3,"sources":["file:///Users/karan/Desktop/website-creation-guidebook-nexus/app/design/page.tsx"],"sourcesContent":["'use client';\n\nimport { Suspense } from \"react\";\nimport DesignStepper from \"@/components/design/DesignStepper\";\nimport ConfirmationDialog from \"@/components/design/ConfirmationDialog\";\nimport LoginDialog from \"@/components/auth/LoginDialog\";\nimport { TSHIRT_COLORS, useDesignState } from \"@/hooks/design\";\nimport LoadingSpinner from \"@/components/design/LoadingSpinner\";\nimport PreferencesSection from \"@/components/design/PreferencesSection\";\nimport CustomizationSection from \"@/components/design/CustomizationSection\";\nimport { DesignErrorBoundary } from \"@/components/error/DesignErrorBoundary\";\nimport { ErrorBoundary } from \"@/components/error/ErrorBoundary\";\n\nfunction DesignContent() {\n    const {\n        currentStep,\n        currentStage,\n        selectedTheme,\n        answers,\n        showConfirmation,\n        showLoginDialog,\n        tshirtColor,\n        selectedSize,\n        designImage,\n        isSaving,\n        isGenerating,\n        isLoading,\n        designName,\n        setShowConfirmation,\n        setShowLoginDialog,\n        setTshirtColor,\n        setSelectedSize,\n        setDesignName,\n        handleThemeSelect,\n        handleQuestionFlowComplete,\n        handleConfirmDesign,\n        handleLoginSuccess,\n        handleBackToThemes,\n        handleDesignChange,\n        handleSaveDesign\n    } = useDesignState();\n\n    return (\n        <DesignErrorBoundary>\n            <div className=\"container mx-auto px-4 py-8\">\n                <ErrorBoundary context=\"DesignStepper\">\n                    <section className=\"max-w-5xl mx-auto text-center mb-8\">\n                        <DesignStepper currentStep={currentStep} />\n                    </section>\n                </ErrorBoundary>\n\n                <section className=\"max-w-5xl mx-auto bg-white rounded-lg shadow-sm p-6\">\n                    {isLoading ? (\n                        <LoadingSpinner message=\"Loading design...\" />\n                    ) : (\n                        <ErrorBoundary context=\"DesignContent\">\n                            {currentStage === \"theme-selection\" || currentStage === \"question-flow\" ? (\n                                <PreferencesSection\n                                    selectedTheme={selectedTheme}\n                                    tshirtColor={tshirtColor}\n                                    onThemeSelect={handleThemeSelect}\n                                    onQuestionFlowComplete={handleQuestionFlowComplete}\n                                    onBackToThemes={handleBackToThemes}\n                                />\n                            ) : currentStage === \"customization\" && (\n                                <CustomizationSection\n                                    answers={answers}\n                                    tshirtColor={tshirtColor}\n                                    selectedSize={selectedSize}\n                                    designImage={designImage}\n                                    isSaving={isSaving}\n                                    isGenerating={isGenerating}\n                                    tshirtColors={TSHIRT_COLORS}\n                                    designName={designName}\n                                    onDesignNameChange={setDesignName}\n                                    onColorChange={setTshirtColor}\n                                    onSizeChange={setSelectedSize}\n                                    onDesignChange={handleDesignChange}\n                                    onSaveDesign={handleSaveDesign}\n                                />\n                            )}\n                        </ErrorBoundary>\n                    )}\n                </section>\n\n                <ErrorBoundary context=\"DesignDialogs\">\n                    <ConfirmationDialog\n                        open={showConfirmation}\n                        answers={answers}\n                        onClose={() => setShowConfirmation(false)}\n                        onConfirm={handleConfirmDesign}\n                        onEdit={() => setShowConfirmation(false)}\n                    />\n\n                    <LoginDialog\n                        open={showLoginDialog}\n                        onClose={() => setShowLoginDialog(false)}\n                        onSuccess={handleLoginSuccess}\n                    />\n                </ErrorBoundary>\n            </div>\n        </DesignErrorBoundary>\n    );\n}\n\nexport default function Design() {\n    return (\n        <Suspense fallback={<LoadingSpinner message=\"Loading...\" />}>\n            <DesignContent />\n        </Suspense>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAXA;;;;;;;;;;;AAaA,SAAS;;IACL,MAAM,EACF,WAAW,EACX,YAAY,EACZ,aAAa,EACb,OAAO,EACP,gBAAgB,EAChB,eAAe,EACf,WAAW,EACX,YAAY,EACZ,WAAW,EACX,QAAQ,EACR,YAAY,EACZ,SAAS,EACT,UAAU,EACV,mBAAmB,EACnB,kBAAkB,EAClB,cAAc,EACd,eAAe,EACf,aAAa,EACb,iBAAiB,EACjB,0BAA0B,EAC1B,mBAAmB,EACnB,kBAAkB,EAClB,kBAAkB,EAClB,kBAAkB,EAClB,gBAAgB,EACnB,GAAG,IAAA,oKAAc;IAElB,qBACI,6LAAC,4KAAmB;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC,gKAAa;oBAAC,SAAQ;8BACnB,cAAA,6LAAC;wBAAQ,WAAU;kCACf,cAAA,6LAAC,2JAAa;4BAAC,aAAa;;;;;;;;;;;;;;;;8BAIpC,6LAAC;oBAAQ,WAAU;8BACd,0BACG,6LAAC,4JAAc;wBAAC,SAAQ;;;;;6CAExB,6LAAC,gKAAa;wBAAC,SAAQ;kCAClB,iBAAiB,qBAAqB,iBAAiB,gCACpD,6LAAC,gKAAkB;4BACf,eAAe;4BACf,aAAa;4BACb,eAAe;4BACf,wBAAwB;4BACxB,gBAAgB;;;;;mCAEpB,iBAAiB,iCACjB,6LAAC,kKAAoB;4BACjB,SAAS;4BACT,aAAa;4BACb,cAAc;4BACd,aAAa;4BACb,UAAU;4BACV,cAAc;4BACd,cAAc,mJAAa;4BAC3B,YAAY;4BACZ,oBAAoB;4BACpB,eAAe;4BACf,cAAc;4BACd,gBAAgB;4BAChB,cAAc;;;;;;;;;;;;;;;;8BAOlC,6LAAC,gKAAa;oBAAC,SAAQ;;sCACnB,6LAAC,gKAAkB;4BACf,MAAM;4BACN,SAAS;4BACT,SAAS,IAAM,oBAAoB;4BACnC,WAAW;4BACX,QAAQ,IAAM,oBAAoB;;;;;;sCAGtC,6LAAC,uJAAW;4BACR,MAAM;4BACN,SAAS,IAAM,mBAAmB;4BAClC,WAAW;;;;;;;;;;;;;;;;;;;;;;;AAMnC;GA1FS;;QA2BD,oKAAc;;;KA3Bb;AA4FM,SAAS;IACpB,qBACI,6LAAC,yKAAQ;QAAC,wBAAU,6LAAC,4JAAc;YAAC,SAAQ;;;;;;kBACxC,cAAA,6LAAC;;;;;;;;;;AAGb;MANwB"}}]
}